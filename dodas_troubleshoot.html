<!-- TABS HTML only -->
<!--
<div class="ta<!-- TABS HTML only -->

<div class="tabbuttoncontainer">
  <div class="tabbutton0">
    <button class="tabbutton" type="action" name="act_allsection">ALL</button>
    </div>
  <div class="tabbutton1">
    <button class="tabbutton" type="action" name="act_wepnstab">Weapons & Armor</button>
    </div>
  <div class="tabbutton2">
    <button class="tabbutton" type="action" name="act_skillsandpoints" >SKILLS & POINTS</button>
    </div>
  <div class="tabbutton3">
    <button class="tabbutton" type="action" name="act_spells" >SPELLS</button>
    </div>
  <div class="tabbutton4">
    <button class="tabbutton" type="action" name="act_story" >STORY</button>
    </div>
</div>

<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='allsection'  />


<div class="allsection">


<div class="dodaslayout">

<!-- ATTRIBUTE TABLE instance 1 -->

  <div class="ATRTable">
    <div class="ATRTableHeader">
      <span class="emptycellTopLeft"></span>
      <span class="ATRTablePhysical">Attributes</span>
      <div class="attributeDivider"></div>
      <span class="ATRTableDerived">Derived</span>

      <div class="ATRTableQuestion">
      <button class="attributerollbutton" type="roll" value="[Click For Attribute Information](https://www.dropbox.com/s/llcy4cu0awgfskf/3.%20Attributes.pdf?dl=0)" name="attributeInfo">
          <span title="click for info">?</span></button>
      </div>

    </div>
 <!-- STR top row -->
    <div class="ATRTableRow">
      <div class="ATRIcon">
        <img title="Strength" class="STRImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/ST%20icon.png?raw=true" width="23" height="23"></img>
      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Strength}} {{roll=[[2d6 + @{Strength}]]}}' name="roll_Strength">
          <span title="Roll Strength">STR</span></button>
          <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/dotsLeft.png?raw=true" style="position:absolute; left:90px; top: 122px; height: 120px; width: 6px;">
      </div>

      <div class="ATRNumber">
        <input type="number" name="attr_strength" placeholder="0">
      </div>

    <div class="attributesDivider"></div>


      <div class="derivedATRLetter">
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Power}} {{roll=[[2d6 + @{Power}]]}}' name="roll_powerbutton">
              <span title="Power">PW</span></button>
          </div>
<div class="derivedATRNumber">
            <input type="number" name="attr_power" style="font-weight: bold;" placeholder="0">
          </div>

    <div class="ATRIcon">
        <img title="Power" class="PWImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/power%20icon%20white%20border.png?raw=true" width="23" height="23"></img>
      </div>

    </div>


    <div class="ATRTableRow">

      <div class="ATRIcon">

        <img title="Agility" class="AGIImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AGI%20Icon.png?raw=true" width="23" height="23"></img>

      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Agility}} {{roll=[[2d6 + @{agility}]]}}' name="roll_agilitybutton">

          <span title="Roll Agility">AGI</span></button>
      </div>
      <div class="ATRNumber">
        <input type="number" name="attr_agility" value="0">
      </div>

   <div class="attributeDivider"></div>

       <div class="derivedATRLetter">
           <button class="derivedattributerollbutton" type="roll" value='&{template:dodas1} {{name=@{character_name} Movement}} {{Info=You can move a number of spaces per round equal to your move derived attribute. Each space is about 5 feet.}}' name="roll_movebutton">
            <span title="Movement speed in 5ft spaces">Move</span></button>
          </div>
          <div>
            <input type="number" name="attr_movement" style=" font-weight: bold;" placeholder="5">
          </div>

<div class="ATRIcon">
        <img class="MoveImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/Move%20Icon%20whit%20border.png?raw=true" width="23" height="23"></img>
      </div>


    </div>

    <div class="ATRTableRow">

      <div class="ATRIcon">
        <img title="Toughness" class="TGHImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/TH%20Icon.png?raw=true" width="23" height="23"></img>
      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Toughness}} {{roll=[[2d6 + @{toughness}]]}}' name="roll_toughnessbutton">
          <span title="Roll Toughness">TGH</span></button>
      </div>

      <div class="ATRNumber">
        <input type="number" name="attr_toughness" style=" font-weight: bold;" placeholder="0">
      </div>

 <div class="attributeDivider"></div>

      <div class="derivedATRLetter">
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Body}} {{roll=[[2d6 + @{Body}]]}}' name="roll_bodybutton">
              <span title="Roll Body">BD</span></button>
            </div>
          <div class="derivedATRNumber">
            <input type="number" name="attr_body" style=" font-weight: bold;" placeholder="0">
          </div>

  <div class="ATRIcon">
        <img title="Body" class="BDImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BD%20Icon%20white%20border.png?raw=true" width="23" height="23"></img>
      </div>

    </div>

        <div class="ATRTableRow">

          <div class="ATRIcon">
        <img title="Size" class="SZImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true" width="23" height="23"></img>
      </div>

          <div class="ATRLetter">
              <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Size}} {{Info=Size adds to Power and Move, but subtracts from ranged defense}}' name="roll_sizebutton">
            <span title="Size">SZ</span></button>
          </div>
          <div class="ATRNumber">
            <input type="number" name="attr_size" style=" font-weight: bold;" placeholder="0" min="-6">
          </div>

 <div class="attributeDivider"></div>

           <div class="derivedATRLetter">
        <button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Knockdown}} {{roll=[[2d6 + @{knockdown}]]}}' name="roll_knockdownbutton">
          <span title="Roll Knockdown"> KND</span></button>
        </div>
      <div class="derivedATRNumber">
        <input type="number" name="attr_knockdown" style=" font-weight: bold;" placeholder="0">
      </div>

      <div class="ATRIcon">
        <img title="Knockdown" class="KNDImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KN%20Icon%20white%20border.png?raw=true" width="23" height="23"></img>
      </div>

        </div>

<!-- WP ROW -->
        <div class="ATRTableRow">

           <div class="ATRIcon">
        <img title="Willpower" class="WPImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WP%20Icon.png?raw=true" width="23" height="23"></img>
      </div>

          <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Willpower}} {{roll=[[2d6 + @{willpower}]]}}' name="roll_willpowerbutton">
          <span title="Roll Willpower">WP</span></button>
      </div>

      <div class="ATRNumber">
        <input type="number" name="attr_willpower" placeholder="0">
      </div>

 <div class="attributeDivider"></div>

          <div class="derivedATRLetter">
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Knockout}} {{roll=[[2d6 + @{knockout}]]}}' name="roll_knockoutbutton">
              <span title="Roll Knockout">KO</span></button>
          </div>
          <div class="derivedATRNumber">
            <input class="" type="number" name="attr_knockout" style=" font-weight: bold;" placeholder="0">
          </div>

      <div class="ATRIcon">
        <img title="Knockout" class="KOImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KO%20Icon%20white%20border.png?raw=true" width="23" height="23"></img>
      </div>

        </div>


  <!-- WT Row -->
  <div class="ATRTableRow">

     <div class="ATRIcon">
        <img title="Wit" class="WITImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WT%20Icon.png?raw=true" width="23" height="23"></img>
      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Wit}} {{roll=[[2d6 + @{wit}]]}}' name="roll_witbutton">
          <span title="Roll Wit">WIT</span></button>
      </div>
      <div class="ATRNumber">
        <input type="number" name="attr_wit" style=" font-weight: bold;" value="0" min="-5" max="5">
      </div>

 <div class="attributeDivider"></div>

        <div class="derivedATRLetter">
        <button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Reflex}} {{roll=[[2d6 + @{reflex} &{tracker}]]}}' name="roll_reflexbutton">
          <span title="Roll Reflex"> REF</span></button>
      </div>
      <div class="derivedATRNumber">
        <input type="number" name="attr_reflex" value="0">
      </div>

      <div class="ATRIcon">
        <img title="Reflex" class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AP%20Icon%20white%20border.png?raw=true" width="23" height="23"></img>
      </div>

        </div>
  <!-- IN Row -->

    <div class="ATRTableRow">

      <div class="ATRIcon">
        <img title="Intelligence" class="INTImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/INT%20Icon.png?raw=true" width="23" height="23"></img>
      </div>

          <div class="ATRLetter">
            <button class="attributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} Intelligence}} {{roll=[[2d6 + @{intelligence}]]}}' name="roll_agilitybutton">
              <span title="Roll Intelligence">IN</span></button>
          </div>
          <div class="ATRNumber">
            <input type="number" name="attr_intelligence" style=" font-weight: bold;" placeholder="0">
          </div>

 <div class="attributeDivider"></div>

          <div class="derivedATRLetter">
              <button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} ActionPoints}} {{info=4+REF, or Reflex. Action points are your base Combat Points or CP, used for attack and defense rolls. Final CP is calculated by adding your skill modifier of whatever weapon is equipped, to your AP, and then adding any AP modifiers from the weapon equipped. Fill in in the CP column of the Weapon Table.}}' name="roll_actionpointsbutton">
        <span title="Action Points (Base CP)">AP</span></button>
      </div>
      <div class="derivedATRNumber">
        <input type="number" name="attr_actionpoints" style=" font-weight: bold;" placeholder="4">
      </div>

      <div class="ATRIcon">
        <img title="Action Points (BaseCP)" class="APImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/CP%20Icon%20white%20border.png?raw=true" width="23" height="23"></img>
      </div>

        </div>

  <!-- final table div? -->
        </div>



  <!-- move stuff temporary -->



<!-- flex container resolve and initiative -->
<div class="resolve_initiative_flexcontainer">

<!-- RESOLVE Fatigue table -->
 <div class="resolvetable">
     <div class="resolvetabletoprow">
         <span class="resolveemptycell"><img class="WPImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WP%20Icon.png?raw=true" width="23" height="23"></img></span>
         <span title="Relevant Attribute" class="resolvewp">ATR</span>
         <span title="Free starting Resolve" class="resolvestart">Free</span>
         <span title="Maximum starting Resolve" class="resolvemax">Max</span>
         <span title="spendable resolve left" class="resolvecurrent">Current</span>
         <span title="temporary Resolve" class="resolvetemporary">Temp</span>
     </div>

     <div class="resolvetablesecondrow">
         <span class="resolveword">Resolve (WP)</span>
         <input type="number" name="attr_resolvewillpowernumber" placeholder="0">
         <input type="number" name="attr_resolvestartnumber" value="1">
         <input type="number" name="attr_resolvemaxnumber" value="1">
         <input type="number" name="attr_resolvecurrentnumber" value="1">
         <input type="number" name="attr_resolvetemporarynumber" placeholder="0">
     </div>

 <div class="resolvetablethirdrow">
         <span class="fatigueword">Fatigue (TH)</span>
         <input type="number" name="attr_fatiguetoughnessnumber" placeholder="0">
         <input type="number" name="attr_fatiguestartnumber" value="2">
         <input type="number" name="attr_fatiguemaxnumber" value="2">
         <input type="number" name="attr_fatiguecurrentnumber" placeholder="2">
         <input type="number" name="attr_fatiguetemporarynumber" placeholder="0">
     </div>

 </div>


 <!-- Initiative Table -->
 <div class="initiativetable">
     <div class="initiativetabletoprow">
         <span class="initiativeemptycell"><img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AP%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></span>
         <span title="Reflex starting attribute" class="initiativeref">REF</span>
         <span title="Skill modifier to initiative" class="initiativeskill">Skill</span>
         <span class="initiativetotal">Total</span>
         <span class="initiativeroll">Roll</span>
</div>

     <div class="initiativetablesecondrow">
         <span title="Determines combat order" class="initiativeword">initiative</span>
         <input type="number" name="attr_initiativereflexnumber" placeholder="0">
         <input type="number" name="attr_initiativeskillnumber" value="1">
         <input type="number" name="attr_initiativetotalnumber" value="1">
         <span>
             <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodas} {{name=@{character_name} Initiative}} {{Initiative + @{initiativetotalnumber} = =[[1d6 + 1d6 + @{initiativetotalnumber} &{tracker}]]}} '
                      name="roll_Initiative"></button>
                      </span>

     </div>
    </div>

</div> <!-- close flex container -->

<div class="passives_luck_flexcontainer">

<!-- Passive Perception Table -->
<div class="passiveperceptiontable">

  <div class="passiveperceptiontabletoprow">
         <span class="passiveperceptionsimage"><img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WT%20Icon.png?raw=true" width="23" height="23"></span>
    <span class="passiveperceptiontotal">Total</span>
    <span class="passiveperceptionwit">WIT</span>
         <span class="passiveperceptionskill">Skill</span>
         <span class="passiveperceptionbase">Base</span>

</div>

     <div class="passiveperceptiontableinputrow">
         <span class="passiveperceptionword">Passive Perception</span>
       <input type="number" name="attr_passiveperceptiontotalnumber" value="7">
       <input type="number" name="attr_passiveperceptionwitnumber" placeholder="0">
         <input type="number" name="attr_passiveperceptionskillnumber" placeholder="0">
         <input type="number" name="attr_passiveperceptionbasenumber" value="7">

        </div>

      <div class="passiveperceptiontableinputrow">
            <span class="enemydetectionword">Enemy Detection</span>
        <input type="number" name="attr_enemydetectiontotalnumber" value="7">
        <input type="number" name="attr_enemydetectionnwitnumber" placeholder="0">
            <input type="number" name="attr_enemydetectionskillnumber" placeholder="0">
            <input type="number" name="attr_enemydetectionbasenumber" value="7">

           </div>

      <div class="passiveperceptiontableinputrow">
           <span class="passiveinsightword">Passive Insight</span>
        <input type="number" name="attr_passiveinsighttotalnumber" value="7">
        <input type="number" name="attr_passiveinsightnwitnumber" placeholder="0">
           <input type="number" name="attr_passiveinsightskillnumber" placeholder="0">
           <input type="number" name="attr_passiveinsightbasenumber" value="7">

              </div>




 </div>

<!-- LUCK SANITY TABLE -->
<div class="lucksanitytable">
     <div class="lucksanitytabletoprow">
         <span class="lucksanitycell"><img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/terror.png?raw=true" width="23" height="23"></span>
         <span class="lucksanityMax">Max</span>
         <span class="lucksanityLoss">Loss</span>
         <span class="lucksanityCurrent">Current</span>
         <span class="lucksanitycell">Roll</span>
     </div>

     <div class="lucksanitytablesecondrow">
         <span class="luckword">Luck</span>
         <input type="number" name="attr_luckmax" placeholder="0">
         <input type="number" name="attr_luckloss" placeholder="1">
         <input type="number" name="attr_luckcurrent" placeholder="1">
         <span>
             <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodas} {{name=@{character_name}}} {{Luck Roll +@{luckcurrent} = =[[1d6 + 1d6 + @{luckcurrent}]]}} '
                      name="roll_Luck"></button>
                      </span>
     </div>

     <div class="lucksanitytablethirdrow">
         <span class="sanityword">Sanity</span>
         <input type="number" name="attr_sanitymax" placeholder="0">
         <input type="number" name="attr_sanityloss" placeholder="2">
         <input type="number" name="attr_sanitycurrent" placeholder="2">
         <span>
             <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodas} {{name=@{character_name}}} {{Sanity Roll + @{sanitycurrent}= =[[1d6 + 1d6 + @{sanitycurrent}]]}} '
                      name="roll_Sanity"></button>
                      </span>
     </div>

 </div>

</div> <!-- close flex column -->

<!-- WEAPONs EQUIPPED TABLE -->

        <div class="weapontable">
          <div class="wptrow1">
            <span class="swordimage">
            <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/exportSwordPNG.png?raw=true" style="position:relative; left:0px; top: -3px; height: 21px; width: 105px;">
            </span>

            <!--
            <span class="wptrangedc">Range DC</span>
            <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
            <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
            -->
            <span title="Action Points" class="wpttoprowAP">AP</span>
            <span title="Combat Points" class="cptoprow">CP</span>
            <span class="wpttoprowcut">Swing / Shoot</span>
            <span class="wpttoprowthrust">Thrust / Throw</span>
            <span class="wpttoprowparryorblock">Parry / Block</span>

            <!-- insert reach stuff -->
            <span class="Reach">Reach</span>


            <span class="equipped_hand">Equipped Hand</span>
            <!-- <span class="placeholder_reach2"></span> -->


            <span class="wpttoprowdodge">Dodge</span>
            <span class="d4d6dodgereminder">d4d6</span>
            <span><input type="text" name="attr_dodgemodifier" placeholder="0"> </span>
            <span class="dodgerollbutton">
                <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodas1} {{name=@{character_name} @{weapon} }}{{Dodge=[[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]]}} '
                      name="roll_Dodge"></button>
            </span>
          </div>

          <div class="wptrow2">
            <span class="wtweapon">Melee Weapons</span>

            <span title="Action Points Modifier" class="wtMod">Mod</span>
            <span title="Combat Points (Attack and Defense)" class="wtTotal">Total</span>
            <span title="Damage" class="wtA">Dmg</span>
            <span title="number added to attack roll button" class="wtA">Att+</span>
            <span class="wtD">Roll</span>
            <span title="Damage" class="wtA">Dmg</span>
            <span title="number added to attack roll button" class="wtA">Att+</span>
            <span class="wtD">Roll</span>
            <span title="Advantage or not?"class="wtAdvBlock">Adv.?</span>
            <span title="Number added to defense roll button"class="wtSkrmD">Def+</span>
            <span class="wtD">Roll</span>

            <span class="wtReachCategory">Category</span>
            <span title="relative reach level" class="wtReachLevel">Lvl</span>
            <span title="spaces away the weapon can attack" class="wtReachSpaces">Spaces</span>

            <span title="left hand equipped" class="wtRange">Left</span> <!-- moved reach elsewhere -->
            <span title="Right hand equipped" class="wtHand">Right</span>

            <span class="wtOther">Other</span>
          </div>

          <fieldset class="repeating_weapons">
            <div class="wptfillrepeating">
              <input type="text" name="attr_weapon" value="">

              <input type="text" name="attr_weaponactionpointmodifier" value="">
              <input type="text" name="attr_cptotal" value="">
              <input type="text" name="attr_cutdamage" value="">
              <input type="text" name="attr_cutattack" value="">
              <span class="swingweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Swing Attack}} {{attackdatadodas1=[[2d6 + @{cutattack}]] or [[2d6 + @{cutattack}]] or [[2d6 + @{cutattack}]], at +@{cutattack}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{cutattack}]] '
 name="roll_weaponrepeatingbuttonswing"></button>
            <button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{cutdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
            <button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

            <button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
            <button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
            <button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
                      </span>


              <input type="text" name="attr_thrustdamage" value="">
              <input type="text" name="attr_thrustattack" value="">


              <span class="thrustweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Thrust Attack}} {{attackdatadodas1=[[2d6 + @{thrustattack}]] or [[2d6 + @{thrustattack}]] or [[2d6 + @{thrustattack}]], at +@{thrustattack}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{thrustattack}]] '
name="roll_weaponrepeatingbuttonthrust"></button>
<button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{thrustdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
<button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

<button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
<button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
<button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
        </span>

              <input type="text" name="attr_parryblock" value="">
              <input type="text" name="attr_blockdefendplus" value="">
              <span class="rolldefendbutton">
<button class="sheet-d6-dice" type="roll" value='&{template:dodasdefense} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Defense Roll}} {{attackdatadodas1=[[2d6 + @{blockdefendplus}]] or [[2d6 + @{blockdefendplus}]] or [[2d6 + @{blockdefendplus}]], at +@{blockdefendplus}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Parry or Block:}} {{mosbuttonsdata=@{parryblock}}}  {{Notes=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{parryblock}]] '
                      name="roll_weaponrepeatingbuttondefend"></button>
                     </span>

            <input type="text" name="attr_range" value=""> <!-- should be attr_reachcategory -->
            <input type="text" name="attr_reachlevel" value="">
            <input type="text" name="attr_reachspaces" value="">

            <input type="text" name="attr_lefthand" value=""> <!-- changing to equipped hand left right with checkbox original name="attr_range" name="attr_hand"  -->
              <input type="text" name="attr_hand" value="">

              <!-- CHECKBOXES WON'T WORK, TROUBLESHOOT LATER
              <input type="checkbox" name="attr_lefthandbox" value="">
              <input type="checkbox" name="attr_righthandbox" value=""> -->

            <input type="text" name="attr_other" value="">


            </div>
          </fieldset>
        </div>


<!-- RANGED WEAPONS -->

<div class="rangedweapontable">
          <div class="rwptrow1">
            <span class="arrowimage">
            <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/arrowPNGcolored.png?raw=true" style="justify-self: center; left:0px; top: -15px; height: 13px; width: 75%;">
            </span>

            <!--
            <span class="wptrangedc">Range DC</span>
            <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
            <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
            -->
            <span class="rwpttoprowAP">AP</span>
            <span title="Combat Points" class="rwptcptoprow">CP</span>
            <span class="rwpttoprowshoot">Shoot / Throw</span>
            <span class="rwpttoprowrange">Range</span>

            <span class="rwptblank"></span>

            <span class="rwptreload">Reload</span>
            <span class="rwptequipped">Equipped Hand</span>
            </div>

          <div class="rwptrow2">
            <span class="rwtweapon">Ranged Weapons</span>

            <span title="modifier" class="rwtMod">Mod</span>
            <span title="Combat Points" class="rwtTotal">Total</span>
            <span title="Damage" class="rwtA">Dmg</span>
            <span title="number added to Attack roll button" class="rwtA">Att+</span>
            <span class="rwtroll">Roll</span>
            <span class="rwtincrement">Increment</span>

            <span title="ignore this much range penalty" class="rwtAccuracy">Accuracy</span>
            <span title="ignores armor all or nothing" class="rwtPenetration">Penetration</span>
            <span title="shots before reloading" class="rwtSkrmD">Shots</span>
            <span title="time to reload" class="rwttime">Time</span>
            <span class="rwtleftequipped">Left</span>
            <span class="rwtrightequipped">Right</span>
            <span class="rwtOther">Other</span>
          </div>

          <fieldset class="repeating_weapons">
            <div class="rwptfillrepeating">
              <input type="text" name="attr_rangedweapon" value="">
              <input type="text" name="attr_rangedapmod" value="">
              <input type="text" name="attr_rangedCPTotal" value="">
              <input type="text" name="attr_rangeddmg" value="">
              <input type="text" name="attr_rangedattackplus" value="">

             <span class="rangedweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{character_name} @{rangedweapon} }} {{attack=[[2d6 + @{rangedattackplus}]] [[2d6 + @{rangedattackplus}]][[2d6 + @{rangedattackplus}]]}} {{Base Damage= @{rangeddmg}}} {{Extra Dmg Dice= [1](~repeating_weapons_1d6extradamageswing) [2](~repeating_weapons_2d6extradamageswing) [3](~repeating_weapons_3d6extradamageswing) [4](~repeating_weapons_4d6extradamageswing) [5](~repeating_weapons_5d6extradamageswing) }} {{Notes=@{rangedother}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{rangedattackplus}]] '
 name="roll_Ranged-Attack"></button>
            <button type="roll" name="roll_1d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 1d6}} {{Damage=[[1d6]] + @{cutdamage}}}"></button>
            <button type="roll" name="roll_2d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 2d6}} {{Damage=[[2d6]] + @{cutdamage}}} "></button>
            <button type="roll" name="roll_3d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 3d6}} {{Damage=[[3d6]] + @{cutdamage}}}"></button>
            <button type="roll" name="roll_4d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 4d6}} {{Damage=[[4d6]] + @{cutdamage}}}"></button>
            <button type="roll" name="roll_5d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 5d6}} {{Damage=[[5d6]] + @{cutdamage}}}"></button>
            <button type="roll" name="roll_6d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 6d6}} {{Damage=[[6d6]] + @{cutdamage}}}"></button>
                      </span>

              <input type="text" name="attr_rangedincrement" value="">
              <input type="text" name="attr_rangedaccuracy" value="">
              <input type="text" name="attr_rangedpenetration" value="">
              <input type="text" name="attr_rangedshots" value="">
              <input type="text" name="attr_reloadtime" value="">

              <input type="text" name="attr_rangedequippedleft" value="">
              <input type="text" name="attr_rangedequippedright" value="">
              <input type="text" name="attr_rangedother" value="">



            </div>
          </fieldset>
        </div>



<!-- ARMOR TABLE -->

      <div class="armortable">
        <div class="armortbtoprow">
          <span class="atTopWeapon"></span>
          <span title="Armor Value of equipment" class="atTopAvEquip">AV Equip</span>
          <span class="atTopBD"></span>
          <span title="Damage Reduction Total" class="atDRTotal">DR Total</span>

        </div>
        <div class="armorsecondrow">
          <span class="atArmor">Armor</span>
          <span title="Cutting damage" class="atC">c</span>
          <span title="Piercing damage" class="atP">p</span>
          <span title="Blunt damage" class="atB">b</span>
          <span title="Energy or Magic damage" class="atE">e</span>
          <span title="Body attribute" class="atBD">BD</span>
          <span title="Cutting damage reduction" class="attc">c</span>
          <span title="Piercing damage reduciton" class="attp">p</span>
          <span title="Blunt damage reduction" class="attb">b</span>
          <span title="Energy or Magic damage reduction" class="atte">e</span>

          <span title="Action Point Modifier" class="atAPM">AP Mod</span>
          <span title="Modifier to Stealth" class="atStealth">Stealth</span>
          <span title="Modifier to Mobility" class="atStealth">Mobility</span>
          <span class="atLocation">Location / Other</span>
        </div>



        <fieldset class="repeating_armor">
          <div class="armor-fillinrepeating">
            <input type="text" name="attr_armor" value="">
            <input type="text" name="attr_armorvalue" value="">
            <input type="text" name="attr_atP" value="">
            <input type="text" name="attr_atB" value="">
            <input type="text" name="attr_atE" value="">
            <input type="text" name="attr_armortablebody">
            <input type="text" name="attr_damagereduction" value="">
            <input type="text" name="attr_attP" value="">
            <input type="text" name="attr_attB" value="">
            <input type="text" name="attr_attE" value="">
            <input type="text" name="attr_actionpointmodifier" value="">
            <input type="text" name="attr_stealtharmormodifier" value="">
            <input type="text" name="attr_mobilityarmormodifier" value="">
            <input type="text" name="attr_location" value="">


          </div>
        </fieldset>
      </div>


<!-- Ranged Defense table -->
<div class="rangedefensetable">

  <div class="rangedefensetabletoprow">
         <span class="rangedefensesimage"><img class="SIZEImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true" width="23" height="23"></span>
    <span class="rangedefenseblank"></span>
         <span class="rangedefense9-SZ">(9-SZ)</span>
         <span class="rangedefense9-SZ">(12-SZ)</span>

</div>

     <div class="rangedefensetablesecondrow">
         <span class="rangeddefenseword">Ranged Defense</span>
         <span title="Modifier" class="rangedefensemodifier">Mod</span>
         <span title="Defense if standing still" class="rangedefensestill">Still</span>
              <span title="Defense if moving or in Melee" class="rangedefensemoving">Moving</span>

        </div>

      <div class="rangedefensetableinputrow">
            <span class="rangedefenseunarmedword">Size Modifier</span>
        <input type="number" name="attr_rangeddefensemodifier" placeholder="0">
        <input type="number" name="attr_rangeddefenseninenumber" placeholder="9">
            <input type="number" name="attr_rangeddefensetwelvenumber" placeholder="12">

           </div>

           <div class="rangedefensetableinputrow">
                 <span class="rangeddefenseshieldword">Shield</span>
             <input type="number" name="attr_rangeddefenseshieldmodifier" placeholder="0">
             <input type="number" name="attr_rangeddefenseshieldninenumber" placeholder="9">
                 <input type="number" name="attr_rangeddefenseshieldtwelvenumber" placeholder="12">

              </div>
 </div>


<!-- Spells -->
<div class="spelltable">
  <div class="strow">
    <span class="stspells">Spells & Abilities</span>
    <span title="Damage or Amount of Spell Effect" class="stDmg">Dmg</span>

    <span class="stOpp">Type</span>
    <span class="stArea">Area</span>
    <span class="stDuration">Duration</span>
    <span class="stRange">Range</span>
    <span title="Spell Level" class="stLVL">LVL</span>
    <span title="number added to spell roll" class="stRoll">Roll+</span>
    <span title="Combat Point cost to cast" class="stCP">CP</span>
    <span class="stRollbutton">Roll</span>
    <span class="stDescription">Description</span>
  </div>
  <fieldset class="repeating_spells">
    <div class="strepeating">
      <input type="text" name="attr_spellorability" value="">
      <input type="text" name="attr_spelldamage" value="">

      <input type="text" name="attr_spellopposed" value="">
      <input type="text" name="attr_spellarea" value="">
      <input type="text" name="attr_spellduration" value="">
      <input type="text" name="attr_spellrange" value="">

      <input type="text" name="attr_spelllevel" value="">
      <input type="text" name="attr_spellskill" value="">
      <input type="text" name="attr_strcp" value="">
      <span class="spellrollbutton">
        <button class="sheet-d6-dice" type="roll" value=
                '&{template:dodas1} {{name=@{character_name} @{spellorability} }} {{attack=[[2d6 + @{spellskill}]][[2d6 + @{spellskill}]][[2d6 + @{spellskill}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Type=@{spellopposed}}} {{Area=@{spellarea}}} {{Duration=@{spellduration}}} {{Range=@{spellrange}}} {{LVL=@{spelllevel}}} {{Description=@{spelldescription}}} '
                name="roll_spellreapeatingbutton"></button></span>
      <input type="text" name="attr_spelldescription" value="">


      <!--
      <span><button type="roll"
          value='&{template:dodas1} {{name=@{charcter_name} @{spellorability} }} {{attack=[[2d6 + @{strroll}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Opposed=@{stropp}}} {{Spell Range=@{strrange}}} {{Spell Area=@{strarea}}} {{Spell Duration=@{strduration}}} {{Spell LVL=@{strlvl}}} {{Spell Description=@{strdescription}}} '
          name="roll_spellreapeatingbutton"></button></span>
          -->
    </div>
  </fieldset>
</div>



<!-- SKILLS AND ABILITIES -->

<div class="skilltable">
  <div class="skilltablerow">

    <span class="str1Skillsand">Combat</span>
    <span class="str1empty"></span>
    <span class="str1empty"></span>
    <span class="str1empty"></span>
    <span class="str1empty"></span>
    <span title="Which Tier is the Skill?" class="str1TiersbyCost">Tiers by Cost</span>
    <span class="str1Synergy">Synergy</span>
    <span class="str1Above">Above</span>
    <span class="str1Sub">Sub</span>
    <span class="str1RelevantAttributes">Relevant Attributes</span>
    <span class="str1OtherModifiersTop">Other</span>
  </div>
  <div class="skilltablerow2">

    <span class="str2Abilities">Skills</span>
    <span class="str2Total">Total</span>
    <span class="str2Roll">Roll</span>
    <span class="str2Tier">Tier</span>
    <span class="str2Cost">Points</span>
    <span title="Tier 5" class="str27">5</span>
    <span title="Tier 4" class="str24">4</span>
    <span title="Tier 3 (Optional)" class="str22">3</span>
    <span title="Tier 2" class="str21">2</span>
    <span title="Tier 1" class="str2star">1</span>
    <span class="str2Bonus">Bonus</span>
    <span class="str2Offset">Offset</span>
    <span class="str2AboveSub">Sub</span>
    <span class="str2Sub">Total</span>
    <span title="Attribute used for skill" class="str2ATR1">ATR</span>
    <span title="Attribute modifier" class="str2Mod1">Mod</span>
    <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
    <span title="Attribute modifier" class="str2Mod2">Mod</span>
    <span class="OtherModifiersBottom">Modifiers</span>

  </div>

<!-- initial skill categories -->
  <!-- combat skills -->
    <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

      <span class="skillnamefieldprimary" name="attr_allcombat">All Combat</span>
      <input type="text" class="skilltotalfield" name="attr_allcombatskilltotal" value="">
      <span class="skillrollbutton">
        <button class="sheet-d6-dice" type="roll" value=
        '&{template:dodas} {{name=@{character_name} All Combat }} {{roll +@{allcombatskilltotal} = =[[2d6 + @{allcombatskilltotal}]]}}'
        name="roll_skilltotalcolumn"></button> </span>
      <input type="text" class="tiercostcolumn" name="attr_allcombattiercost" value="5">
      <input type="text" class="costcolumn" name="attr_allcombatpoints" value="">
      <input type="number" class="tiersevenfield" name="attr_allcombattierfive" value="">
      <input type="number" class="tierfourfield" name="attr_allcombattierfour" value="">
      <input type="number" class="tiertwofield" name="attr_allcombattierthree" value="">
      <input type="number" class="tieronefield" name="attr_allcombattiertwo" value="">
      <input type="number" class="tierstarfield" name="attr_allcombattierone" value="">
      <input type="number" class="tierabovesubfield" name="attr_allcombattierabovesub" value="">
      <input type="number" class="synergybonusfield" name="attr_allcombatsynergybonus" value="">
      <input type="number" class="synergyoffsetfield" name="attr_allcombatsynergyoffset" value="">
      <input type="number" class="subtotalfield" name="attr_allcombatgroup" value="">
      <input type="text" class="firstskillATRfield" name="attr_allcombatattribute" value="AP">
      <input type="text" class="firstATRmodField" name="attr_allcombatattributemodifier" value=""> <!-- sheetworker -->
      <input type="text" class="secondATRField" name="attr_allcombatattributetwo" value="">
      <input type="text" class="secondATRmod" name="attr_allcombatattributemodifiertwo" value="">
      <input type="text" class="otherskillfield" name="attr_allcombatothermodifiersfill" value="">
      </div>

      
<!-- hidden attributes for repeating row calculations -->  
      <input type="hidden" name="attr_total_allcombatspec" value="0">
      <input type="hidden" name="attr_total_meleespec" value="0">
      <input type="hidden" name="attr_total_rangedspec" value="0">

      <!-- all combat SPECIALIZATIONS -->
      <fieldset class="repeating_allcombatspec">
         <div class="skillsfillrepeatingsecondary">

           <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
           <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
           <span class="skillrollbutton">
             <button class="sheet-d6-dice" type="roll" value=
             '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
             name="roll_skilltotalcolumn"></button> </span>
           <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
           <input type="text" class="costcolumn" name="attr_points" value="">
           <input type="number" class="tierfivefield" name="attr_tierfive" value="">
           <input type="number" class="tierfourfield" name="attr_tierfour" value="">
           <input type="number" class="tierthreefield" name="attr_tierthree" value="">
           <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
           <input type="number" class="tieronefield" name="attr_tierone" value="">
           <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
           <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
           <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
           <input type="number" class="subtotalfield" name="attr_group" value="">
           <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
           <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
           <input type="text" class="secondATRField" name="attr_attributetwo" value="">
           <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
           <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
           </div>
       </fieldset>

       <!-- melee combat -->
       <div class="skillsfillrepeatingsecondary"> <!-- class is a misnomer leftover from before -->

          <span class="skillnamefield" name="attr_meleecombat">Melee Combat</span>
          <input type="text" class="skilltotalfield" name="attr_meleecombatskilltotal" value="">
          <span class="skillrollbutton">
            <button class="sheet-d6-dice" type="roll" value=
            '&{template:dodas} {{name=@{character_name} Melee Combat }} {{roll +@{meleecombatskilltotal} = =[[2d6 + @{meleecombatskilltotal}]]}}'
            name="roll_skilltotalcolumn"></button> </span>
          <input type="text" class="tiercostcolumn" name="attr_meleecombattiercost" value="4">
          <input type="text" class="costcolumn" name="attr_meleecombatpoints" value="">
          <input type="number" class="tierfivefield" name="attr_meleecombattierfive" value="">
          <input type="number" class="tierfourfield" name="attr_meleecombattierfour" value="">
          <input type="number" class="tierthreefield" name="attr_meleecombattierthree" value="">
          <input type="number" class="tiertwofield" name="attr_meleecombattiertwo" value="">
          <input type="number" class="tieronefield" name="attr_meleecombattierone" value="">
          <input type="number" class="tierabovesubfield" name="attr_meleecombattierabovesub" value="">
          <input type="number" class="synergybonusfield" name="attr_meleecombatsynergybonus" value="">
          <input type="number" class="synergyoffsetfield" name="attr_meleecombatsynergyoffset" value="">
          <input type="number" class="subtotalfield" name="attr_meleecombatgroup" value="">
          <input type="text" class="firstskillATRfield" name="attr_meleecombatattribute" value="AP">
          <input type="text" class="firstATRmodField" name="attr_meleecombatattributemodifier" value=""> <!-- pull sheetworker value -->
          <input type="text" class="secondATRField" name="attr_meleecombatattributetwo" value="">
          <input type="text" class="secondATRmod" name="attr_meleecombatattributemodifiertwo" value="">
          <input type="text" class="otherskillfield" name="attr_meleecombatothermodifiersfill" value="">
           </div>

       <!-- Melee Combat SPECIALIZATIONS -->
      <fieldset class="repeating_meleespec">
         <div class="skillsfillrepeatingtertiary">

           <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
           <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
           <span class="skillrollbutton">
             <button class="sheet-d6-dice" type="roll" value=
             '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
             name="roll_skilltotalcolumn"></button> </span>
           <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
           <input type="text" class="costcolumn" name="attr_points" value="">
           <input type="number" class="tierfivefield" name="attr_tierfive" value="">
           <input type="number" class="tierfourfield" name="attr_tierfour" value="">
           <input type="number" class="tierthreefield" name="attr_tierthree" value="">
           <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
           <input type="number" class="tieronefield" name="attr_tierone" value="">
           <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
           <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
           <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
           <input type="number" class="subtotalfield" name="attr_group" value="">
           <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
           <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
           <input type="text" class="secondATRField" name="attr_attributetwo" value="">
           <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
           <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
           </div>
       </fieldset>

        <!-- ranged combat -->
       <div class="skillsfillrepeatingsecondary"> <!-- class is a misnomer leftover from before -->

          <span class="skillnamefield" name="attr_rangedcombat">Ranged Combat</span>
          <input type="text" class="skilltotalfield" name="attr_rangedcombatskilltotal" value="">
          <span class="skillrollbutton">
            <button class="sheet-d6-dice" type="roll" value=
            '&{template:dodas} {{name=@{character_name} @{rangedcombat} }} {{roll +@{rangedcombatskilltotal} = =[[2d6 + @{rangedcombatskilltotal}]]}}'
            name="roll_skilltotalcolumn"></button> </span>
          <input type="text" class="tiercostcolumn" name="attr_rangedcombattiercost" value="4">
          <input type="text" class="costcolumn" name="attr_rangedcombatpoints" value="">
          <input type="number" class="tierfivefield" name="attr_rangedcombattierfive" value="">
          <input type="number" class="tierfourfield" name="attr_rangedcombattierfour" value="">
          <input type="number" class="tierthreefield" name="attr_rangedcombattierthree" value="">
          <input type="number" class="tiertwofield" name="attr_rangedcombattiertwo" value="">
          <input type="number" class="tieronefield" name="attr_rangedcombattierone" value="">
          <input type="number" class="tierabovesubfield" name="attr_rangedcombattierabovesub" value="">
          <input type="number" class="synergybonusfield" name="attr_rangedcombatsynergybonus" value="">
          <input type="number" class="synergyoffsetfield" name="attr_rangedcombatsynergyoffset" value="">
          <input type="number" class="subtotalfield" name="attr_rangedcombatgroup" value="">
          <input type="text" class="firstskillATRfield" name="attr_rangedcombatattribute" value="AP">
          <input type="text" class="firstATRmodField" name="attr_rangedcombatattributemodifier" value="">
          <input type="text" class="secondATRField" name="attr_rangedcombatattributetwo" value="">
          <input type="text" class="secondATRmod" name="attr_rangedcombatattributemodifiertwo" value="">
          <input type="text" class="otherskillfield" name="attr_rangedcombatothermodifiersfill" value="">
           </div>

       <!-- Ranged Combat SPECIALIZATIONS -->
      <fieldset class="repeating_rangedspec">
         <div class="skillsfillrepeatingtertiary">

           <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
           <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
           <span class="skillrollbutton">
             <button class="sheet-d6-dice" type="roll" value=
             '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
             name="roll_skilltotalcolumn"></button> </span>
           <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
           <input type="text" class="costcolumn" name="attr_points" value="">
           <input type="number" class="tierfivefield" name="attr_tierfive" value="">
           <input type="number" class="tierfourfield" name="attr_tierfour" value="">
           <input type="number" class="tierthreefield" name="attr_tierthree" value="">
           <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
           <input type="number" class="tieronefield" name="attr_tierone" value="">
           <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
           <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
           <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
           <input type="number" class="subtotalfield" name="attr_group" value="">
           <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
           <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
           <input type="text" class="secondATRField" name="attr_attributetwo" value="">
           <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
           <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
           </div>
       </fieldset>







      <!-- ADVENTURING SKILLS REPEAT -->
         <div class="skilltable">
         <div class="skilltablerow">

           <span class="str1Skillsand">Adventuring</span>
           <span class="str1empty"></span>
           <span class="str1empty"></span>
           <span class="str1empty"></span>
           <span class="str1empty"></span>
           <span title="Which Tier is the Skill?" class="str1TiersbyCost">Tiers by Cost</span>
           <span class="str1Synergy">Synergy</span>
           <span class="str1Above">Above</span>
           <span class="str1Sub">Sub</span>
           <span class="str1RelevantAttributes">Relevant Attributes</span>
           <span class="str1OtherModifiersTop">Other</span>
         </div>
         <div class="skilltablerow2">

           <span class="str2Abilities">Skills</span>
           <span class="str2Total">Total</span>
           <span class="str2Roll">Roll</span>
           <span class="str2Tier">Tier</span>
           <span class="str2Cost">Points</span>
           <span title="Tier 5" class="str27">5</span>
           <span title="Tier 4" class="str24">4</span>
           <span title="Tier 3 (Optional)" class="str22">3</span>
           <span title="Tier 2" class="str21">2</span>
           <span title="Tier 1" class="str2star">1</span>
           <span class="str2Bonus">Bonus</span>
           <span class="str2Offset">Offset</span>
           <span class="str2AboveSub">Sub</span>
           <span class="str2Sub">Total</span>
           <span title="Attribute used for skill" class="str2ATR1">ATR</span>
           <span title="Attribute modifier" class="str2Mod1">Mod</span>
           <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
           <span title="Attribute modifier" class="str2Mod2">Mod</span>
           <span class="OtherModifiersBottom">Modifiers</span>

         </div>

       <!-- KNOWLEDGE, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_knowledge">Knowledge</span>
             <input type="text" class="skilltotalfield" name="attr_knowledgeskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Knowledge}} {{roll +@{knowledgeskilltotal} = =[[2d6 + @{knowledgeskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_knowledgetiercost" value="4">
             <input type="text" class="costcolumn" name="attr_knowledgepoints" value="">
             <input type="number" class="tierfivefield" name="attr_knowledgetierfive" value="">
             <input type="number" class="tierfourfield" name="attr_knowledgetierfour" value="">
             <input type="number" class="tierthreefield" name="attr_knowledgetierthree" value="">
             <input type="number" class="tiertwofield" name="attr_knowledgetiertwo" value="">
             <input type="number" class="tieronefield" name="attr_knowledgetierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_knowledgetierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_knowledgesynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_knowledgesynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_knowledgegroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_knowledgeattribute" value="INT">
             <input type="text" class="firstATRmodField" name="attr_knowledgeattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_knowledgeattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_knowledgeattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_knowledgeothermodifiersfill" value="">
             </div>

           <!-- Knowledge Repeating -->
           <fieldset class="repeating_knowledgespec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

       <!-- mobility, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_mobility">Mobility</span>
             <input type="text" class="skilltotalfield" name="attr_mobilityskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Mobility }} {{roll +@{mobilityskilltotal} = =[[2d6 + @{mobilityskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_mobilitytiercost" value="4">
             <input type="text" class="costcolumn" name="attr_mobilitypoints" value="">
             <input type="number" class="tierfivefield" name="attr_mobilitytierfive" value="">
             <input type="number" class="tierfourfield" name="attr_mobilitytierfour" value="">
             <input type="number" class="tierthreefield" name="attr_mobilitytierthree" value="">
             <input type="number" class="tiertwofield" name="attr_mobilitytiertwo" value="">
             <input type="number" class="tieronefield" name="attr_mobilitytierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_mobilitytierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_mobilitysynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_mobilitysynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_mobilitygroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_mobilityattribute" value="KND">
             <input type="text" class="firstATRmodField" name="attr_mobilityattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_mobilityattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_mobilityattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_mobilityothermodifiersfill" value="">
             </div>

           <!-- mobility Repeating -->
           <fieldset class="repeating_mobilityspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

           <!-- mechanicaldevices, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_mechanicaldevices">Mechanical Devices</span>
             <input type="text" class="skilltotalfield" name="attr_mechanicaldevicesskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Mechanical Devics }} {{roll +@{mechanicaldevicesskilltotal} = =[[2d6 + @{mechanicaldevicesskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_mechanicaldevicestiercost" value="4">
             <input type="text" class="costcolumn" name="attr_mechanicaldevicespoints" value="">
             <input type="number" class="tierfivefield" name="attr_mechanicaldevicestierfive" value="">
             <input type="number" class="tierfourfield" name="attr_mechanicaldevicestierfour" value="">
             <input type="number" class="tierthreefield" name="attr_mechanicaldevicestierthree" value="">
             <input type="number" class="tiertwofield" name="attr_mechanicaldevicestiertwo" value="">
             <input type="number" class="tieronefield" name="attr_mechanicaldevicestierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_mechanicaldevicestierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_mechanicaldevicessynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_mechanicaldevicessynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_mechanicaldevicesgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_mechanicaldevicesattribute" value="REF">
             <input type="text" class="firstATRmodField" name="attr_mechanicaldevicesattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_mechanicaldevicesattributetwo" value="INT">
             <input type="text" class="secondATRmod" name="attr_mechanicaldevicesattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_mechanicaldevicesothermodifiersfill" value="">
             </div>

           <!-- mechanicaldevices Repeating -->
           <fieldset class="repeating_mechanicaldevicesspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>


       <!-- medicine, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_medicine">Medicine</span>
             <input type="text" class="skilltotalfield" name="attr_medicineskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Medicine }} {{roll +@{medicineskilltotal} = =[[2d6 + @{medicineskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_medicinetiercost" value="4">
             <input type="text" class="costcolumn" name="attr_medicinepoints" value="">
             <input type="number" class="tierfivefield" name="attr_medicinetierfive" value="">
             <input type="number" class="tierfourfield" name="attr_medicinetierfour" value="">
             <input type="number" class="tierthreefield" name="attr_medicinetierthree" value="">
             <input type="number" class="tiertwofield" name="attr_medicinetiertwo" value="">
             <input type="number" class="tieronefield" name="attr_medicinetierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_medicinetierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_medicinesynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_medicinesynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_medicinegroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_medicineattribute" value="INT">
             <input type="text" class="firstATRmodField" name="attr_medicineattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_medicineattributetwo" value="REF">
             <input type="text" class="secondATRmod" name="attr_medicineattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_medicineothermodifiersfill" value="">
             </div>

           <!-- medicine Repeating -->
           <fieldset class="repeating_medicinespec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

           <!-- perception, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_perception">Perception</span>
             <input type="text" class="skilltotalfield" name="attr_perceptionskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Perception }} {{roll +@{perceptionskilltotal} = =[[2d6 + @{perceptionskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_perceptiontiercost" value="4">
             <input type="text" class="costcolumn" name="attr_perceptionpoints" value="">
             <input type="number" class="tierfivefield" name="attr_perceptiontierfive" value="">
             <input type="number" class="tierfourfield" name="attr_perceptiontierfour" value="">
             <input type="number" class="tierthreefield" name="attr_perceptiontierthree" value="">
             <input type="number" class="tiertwofield" name="attr_perceptiontiertwo" value="">
             <input type="number" class="tieronefield" name="attr_perceptiontierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_perceptiontierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_perceptionsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_perceptionsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_perceptiongroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_perceptionattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_perceptionattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_perceptionattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_perceptionattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_perceptionothermodifiersfill" value="">
             </div>

           <!-- perception Repeating -->
           <fieldset class="repeating_perceptionspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

           <!-- profession, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_profession">Profession (Non-Adventuring)</span>
             <input type="text" class="skilltotalfield" name="attr_professionskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Profession }} {{roll +@{professionskilltotal} = =[[2d6 + @{professionskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_professiontiercost" value="1">
             <input type="text" class="costcolumn" name="attr_professionpoints" value="">
             <input type="number" class="tierfivefield" name="attr_professiontierfive" value="">
             <input type="number" class="tierfourfield" name="attr_professiontierfour" value="">
             <input type="number" class="tierthreefield" name="attr_professiontierthree" value="">
             <input type="number" class="tiertwofield" name="attr_professiontiertwo" value="">
             <input type="number" class="tieronefield" name="attr_professiontierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_professiontierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_professionsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_professionsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_professiongroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_professionattribute" value="">
             <input type="text" class="firstATRmodField" name="attr_professionattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_professionattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_professionattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_professionothermodifiersfill" value="">
             </div>

           <!-- profession Repeating -->
           <fieldset class="repeating_perceptionspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>



        <!-- SOCIAL SKILLS -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_social">Social</span>
             <input type="text" class="skilltotalfield" name="attr_socialskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Social }} {{roll +@{socialskilltotal} = =[[2d6 + @{socialskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_socialtiercost" value="5">
             <input type="text" class="costcolumn" name="attr_socialpoints" value="">
             <input type="number" class="tierfivefield" name="attr_socialtierfive" value="">
             <input type="number" class="tierfourfield" name="attr_socialtierfour" value="">
             <input type="number" class="tierthreefield" name="attr_socialtierthree" value="">
             <input type="number" class="tiertwofield" name="attr_socialtiertwo" value="">
             <input type="number" class="tieronefield" name="attr_socialtierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_socialtierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_socialsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_socialsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_socialgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_socialattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_socialattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_socialattributetwo" value="WP">
             <input type="text" class="secondATRmod" name="attr_socialattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_socialothermodifiersfill" value="">
             </div>

       <!-- Social WIT -->
       <div class="skillsfillrepeatingsecondary"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_socialwits">Social: Wits</span>
             <input type="text" class="skilltotalfield" name="attr_socialwitskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Social Wits }} {{roll +@{socialwitskilltotal} = =[[2d6 + @{socialwitskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_socialwittiercost" value="4">
             <input type="text" class="costcolumn" name="attr_socialwitpoints" value="">
             <input type="number" class="tierfivefield" name="attr_socialwittierfive" value="">
             <input type="number" class="tierfourfield" name="attr_socialwittierfour" value="">
             <input type="number" class="tierthreefield" name="attr_socialwittierthree" value="">
             <input type="number" class="tiertwofield" name="attr_socialwittiertwo" value="">
             <input type="number" class="tieronefield" name="attr_socialwittierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_socialwittierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_socialwitsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_socialwitsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_socialwitgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_socialwitattribute" value="">
             <input type="text" class="firstATRmodField" name="attr_socialwitattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_socialwitattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_socialwitattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_socialwitothermodifiersfill" value="">
             </div>

           <!-- social wits Repeating -->
           <fieldset class="repeating_socialwitspec">
           <div class="skillsfillrepeatingtertiary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
           </fieldset>

           <!-- Social Personality -->
           <div class="skillsfillrepeatingsecondary"> <!-- class is a misnomer leftover from before -->

                 <span class="skillnamefieldprimary" name="attr_socialpersonality">Social: Personality</span>
                 <input type="text" class="skilltotalfield" name="attr_socialpersonalityskilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodas} {{name=@{character_name} Social Personality }} {{roll +@{socialpersonalityskilltotal} = =[[2d6 + @{socialpersonalityskilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>
                 <input type="text" class="tiercostcolumn" name="attr_socialpersonalitytiercost" value="4">
                 <input type="text" class="costcolumn" name="attr_socialpersonalitypoints" value="">
                 <input type="number" class="tierfivefield" name="attr_socialpersonalitytierfive" value="">
                 <input type="number" class="tierfourfield" name="attr_socialpersonalitytierfour" value="">
                 <input type="number" class="tierthreefield" name="attr_socialpersonalitytierthree" value="">
                 <input type="number" class="tiertwofield" name="attr_socialpersonalitytiertwo" value="">
                 <input type="number" class="tieronefield" name="attr_socialpersonalitytierone" value="">
                 <input type="number" class="tierabovesubfield" name="attr_socialpersonalitytierabovesub" value="">
                 <input type="number" class="synergybonusfield" name="attr_socialpersonalitysynergybonus" value="">
                 <input type="number" class="synergyoffsetfield" name="attr_socialpersonalitysynergyoffset" value="">
                 <input type="number" class="subtotalfield" name="attr_socialpersonalitygroup" value="">
                 <input type="text" class="firstskillATRfield" name="attr_socialpersonalityattribute" value="WP">
                 <input type="text" class="firstATRmodField" name="attr_socialpersonalityattributemodifier" value="">
                 <input type="text" class="secondATRField" name="attr_socialpersonalityattributetwo" value="">
                 <input type="text" class="secondATRmod" name="attr_socialpersonalityattributemodifiertwo" value="">
                 <input type="text" class="otherskillfield" name="attr_socialpersonalityothermodifiersfill" value="">
                 </div>

               <!-- social Personality Repeating -->
               <fieldset class="repeating_socialpersonalityspec">
               <div class="skillsfillrepeatingtertiary">

                 <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                 <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>
                 <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                 <input type="text" class="costcolumn" name="attr_points" value="">
                 <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                 <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                 <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                 <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                 <input type="number" class="tieronefield" name="attr_tierone" value="">
                 <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                 <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                 <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                 <input type="number" class="subtotalfield" name="attr_group" value="">
                 <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                 <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                 <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                 <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                 <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                 </div>
               </fieldset>


           <!-- strengthskills, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_strengthskills">Strength Skills</span>
             <input type="text" class="skilltotalfield" name="attr_strengthskillsskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Strength Skills }} {{roll +@{strengthskillsskilltotal} = =[[2d6 + @{strengthskillsskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_strengthskillstiercost" value="4">
             <input type="text" class="costcolumn" name="attr_strengthskillspoints" value="">
             <input type="number" class="tierfivefield" name="attr_strengthskillstierfive" value="">
             <input type="number" class="tierfourfield" name="attr_strengthskillstierfour" value="">
             <input type="number" class="tierthreefield" name="attr_strengthskillstierthree" value="">
             <input type="number" class="tiertwofield" name="attr_strengthskillstiertwo" value="">
             <input type="number" class="tieronefield" name="attr_strengthskillstierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_strengthskillstierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_strengthskillssynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_strengthskillssynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_strengthskillsgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_strengthskillsattribute" value="PW">
             <input type="text" class="firstATRmodField" name="attr_strengthskillsattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_strengthskillsattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_strengthskillsattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_strengthskillsothermodifiersfill" value="">
             </div>

           <!-- strengthskills Repeating -->
           <fieldset class="repeating_strengthskillsspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

       <!-- SURVIVAL -->
       <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_survival">Survival</span>
             <input type="text" class="skilltotalfield" name="attr_survivalskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} Survival }} {{roll +@{survivalskilltotal} = =[[2d6 + @{survivalskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_survivaltiercost" value="5">
             <input type="text" class="costcolumn" name="attr_survivalpoints" value="">
             <input type="number" class="tierfivefield" name="attr_survivaltierfive" value="">
             <input type="number" class="tierfourfield" name="attr_survivaltierfour" value="">
             <input type="number" class="tierthreefield" name="attr_survivaltierthree" value="">
             <input type="number" class="tiertwofield" name="attr_survivaltiertwo" value="">
             <input type="number" class="tieronefield" name="attr_survivaltierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_survivaltierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_survivalsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_survivalsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_survivalgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_survivalattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_survivalattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_survivalattributetwo" value="INT">
             <input type="text" class="secondATRmod" name="attr_survivalattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_survivalothermodifiersfill" value="">
             </div>

       <!-- Survival Outdoors -->
       <div class="skillsfillrepeatingsecondary"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_survivaloutdoors">Survival: Outdoors</span>
             <input type="text" class="skilltotalfield" name="attr_survivaloutdoorsskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodas} {{name=@{character_name} @{survivaloutdoors} }} {{roll +@{survivaloutdoorsskilltotal} = =[[2d6 + @{survivaloutdoorsskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_survivaloutdoorstiercost" value="4">
             <input type="text" class="costcolumn" name="attr_survivaloutdoorspoints" value="">
             <input type="number" class="tierfivefield" name="attr_survivaloutdoorstierfive" value="">
             <input type="number" class="tierfourfield" name="attr_survivaloutdoorstierfour" value="">
             <input type="number" class="tierthreefield" name="attr_survivaloutdoorstierthree" value="">
             <input type="number" class="tiertwofield" name="attr_survivaloutdoorstiertwo" value="">
             <input type="number" class="tieronefield" name="attr_survivaloutdoorstierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_survivaloutdoorstierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_survivaloutdoorssynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_survivaloutdoorssynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_survivaloutdoorsgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_survivaloutdoorsattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_survivaloutdoorsattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_survivaloutdoorsattributetwo" value="INT">
             <input type="text" class="secondATRmod" name="attr_survivaloutdoorsattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_survivaloutdoorsothermodifiersfill" value="">
             </div>

             <!-- Survival Outdoors Repeating -->
             <fieldset class="repeating_survivaloutdoorsspec">
             <div class="skillsfillrepeatingtertiary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
             </fieldset>

             <!-- Survival Urban -->
             <div class="skillsfillrepeatingsecondary"> <!-- class is a misnomer leftover from before -->

                   <span class="skillnamefieldprimary" name="attr_survivalurban">Survival: Urban</span>
                   <input type="text" class="skilltotalfield" name="attr_survivalurbanskilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodas} {{name=@{character_name} @{survivalurban} }} {{roll +@{survivalurbanskilltotal} = =[[2d6 + @{survivalurbanskilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>
                   <input type="text" class="tiercostcolumn" name="attr_survivalurbantiercost" value="4">
                   <input type="text" class="costcolumn" name="attr_survivalurbanpoints" value="">
                   <input type="number" class="tierfivefield" name="attr_survivalurbantierfive" value="">
                   <input type="number" class="tierfourfield" name="attr_survivalurbantierfour" value="">
                   <input type="number" class="tierthreefield" name="attr_survivalurbantierthree" value="">
                   <input type="number" class="tiertwofield" name="attr_survivalurbantiertwo" value="">
                   <input type="number" class="tieronefield" name="attr_survivalurbantierone" value="">
                   <input type="number" class="tierabovesubfield" name="attr_survivalurbantierabovesub" value="">
                   <input type="number" class="synergybonusfield" name="attr_survivalurbansynergybonus" value="">
                   <input type="number" class="synergyoffsetfield" name="attr_survivalurbansynergyoffset" value="">
                   <input type="number" class="subtotalfield" name="attr_survivalurbangroup" value="">
                   <input type="text" class="firstskillATRfield" name="attr_survivalurbanattribute" value="WIT">
                   <input type="text" class="firstATRmodField" name="attr_survivalurbanattributemodifier" value="">
                   <input type="text" class="secondATRField" name="attr_survivalurbanattributetwo" value="INT">
                   <input type="text" class="secondATRmod" name="attr_survivalurbanattributemodifiertwo" value="">
                   <input type="text" class="otherskillfield" name="attr_survivalurbanothermodifiersfill" value="">
                   </div>

                   <!-- Survival Urban Repeating -->
                   <fieldset class="repeating_survivalurbanspec">
                   <div class="skillsfillrepeatingtertiary">

                     <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                     <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>
                     <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                     <input type="text" class="costcolumn" name="attr_points" value="">
                     <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                     <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                     <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                     <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                     <input type="number" class="tieronefield" name="attr_tierone" value="">
                     <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                     <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                     <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                     <input type="number" class="subtotalfield" name="attr_group" value="">
                     <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                     <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                     <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                     <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                     <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                     </div>
                   </fieldset>




  <!-- OLD repeating specializations, indented -->
      <!-- custom skills -->
      <div class="skilltable">
      <div class="skilltablerow">

        <span class="str1Skillsand">Custom</span>
        <span class="str1empty"></span>
        <span class="str1empty"></span>
        <span class="str1empty"></span>
        <span class="str1empty"></span>
        <span title="Which Tier is the Skill?" class="str1TiersbyCost">Tiers by Cost</span>
        <span class="str1Synergy">Synergy</span>
        <span class="str1Above">Above</span>
        <span class="str1Sub">Sub</span>
        <span class="str1RelevantAttributes">Relevant Attributes</span>
        <span class="str1OtherModifiersTop">Other</span>
      </div>
      <div class="skilltablerow2">

        <span class="str2Abilities">Skills</span>
        <span class="str2Total">Total</span>
        <span class="str2Roll">Roll</span>
        <span class="str2Tier">Tier</span>
        <span class="str2Cost">Points</span>
        <span title="Tier 5" class="str27">5</span>
        <span title="Tier 4" class="str24">4</span>
        <span title="Tier 3 (Optional)" class="str22">3</span>
        <span title="Tier 2" class="str21">2</span>
        <span title="Tier 1" class="str2star">1</span>
        <span class="str2Bonus">Bonus</span>
        <span class="str2Offset">Offset</span>
        <span class="str2AboveSub">Sub</span>
        <span class="str2Sub">Total</span>
        <span title="Attribute used for skill" class="str2ATR1">ATR</span>
        <span title="Attribute modifier" class="str2Mod1">Mod</span>
        <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
        <span title="Attribute modifier" class="str2Mod2">Mod</span>
        <span class="OtherModifiersBottom">Modifiers</span>

      </div>

      <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

        <span class="skillnamefieldprimary" name="attr_customskills">Custom Skills</span>
        <input type="text" class="skilltotalfield" name="attr_customskillsskilltotal" value="">
        <span class="skillrollbutton">
          <button class="sheet-d6-dice" type="roll" value=
          '&{template:dodas} {{name=@{character_name} @{customskills} }} {{roll +@{customskillsskilltotal} = =[[2d6 + @{customskillsskilltotal}]]}}'
          name="roll_skilltotalcolumn"></button> </span>
        <input type="text" class="tiercostcolumn" name="attr_customskillstiercost" value="">
        <input type="text" class="costcolumn" name="attr_customskillscost" value="">
        <input type="text" class="tiersevenfield" name="attr_customskillstierseven" value="">
        <input type="text" class="tierfourfield" name="attr_customskillstierfour" value="">
        <input type="text" class="tiertwofield" name="attr_customskillstiertwo" value="">
        <input type="text" class="tieronefield" name="attr_customskillstierone" value="">
        <input type="text" class="tierstarfield" name="attr_customskillstierstar" value="">
        <input type="text" class="tierabovesubfield" name="attr_customskillstierabovesub" value="">
        <input type="text" class="synergybonusfield" name="attr_customskillssynergybonus" value="">
        <input type="text" class="synergyoffsetfield" name="attr_customskillssynergyoffset" value="">
        <input type="text" class="subtotalfield" name="attr_customskillsgroup" value="">
        <input type="text" class="firstskillATRfield" name="attr_customskillsattribute" value="">
        <input type="text" class="firstATRmodField" name="attr_customskillsattributemodifier" value="">
        <input type="text" class="secondATRField" name="attr_customskillsattributetwo" value="">
        <input type="text" class="secondATRmod" name="attr_customskillsattributemodifiertwo" value="">
        <input type="text" class="otherskillfield" name="attr_customskillsothermodifiersfill" value="">
        </div>

    <fieldset class="repeating_skills">
      <div class="skillsfillrepeating">

        <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
        <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
        <span class="skillrollbutton">
          <button class="sheet-d6-dice" type="roll" value=
          '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
          name="roll_skilltotalcolumn"></button> </span>
        <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
        <input type="text" class="costcolumn" name="attr_cost" value="">
        <input type="text" class="tiersevenfield" name="attr_tierseven" value="">
        <input type="text" class="tierfourfield" name="attr_tierfour" value="">
        <input type="text" class="tiertwofield" name="attr_tiertwo" value="">
        <input type="text" class="tieronefield" name="attr_tierone" value="">
        <input type="text" class="tierstarfield" name="attr_tierstar" value="">
        <input type="text" class="tierabovesubfield" name="attr_tierabovesub" value="">
        <input type="text" class="synergybonusfield" name="attr_synergybonus" value="">
        <input type="text" class="synergyoffsetfield" name="attr_synergyoffset" value="">
        <input type="text" class="subtotalfield" name="attr_group" value="">



        <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
          <!-- try a datalist instead
        <input type="text" list="abilityScores" name="attr_abilityScore">
        <datalist id="abilityScores">
            <option value="@{power}">PW</option>
            <option value="@{movement}">Move</option>
            <option value="@{willpower}">WP</option>
            <option value="@{wit}">WIT</option>
            <option value="@{intelligence}">INT</option>
            <option value="@{knockdown}">KN</option>
            <option value="@{reflex}">REF</option>
            <option value="@{actionpoints}">AP</option>
        </datalist>
            -->
        <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
        <input type="text" class="secondATRField" name="attr_attributetwo" value="">
        <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
        <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
        </div>
        </fieldset>

  </div>






<!-- POINT BUY TOTALS TABLE -->

<div class="pointbuytable">
  <div class="pointbuytabletitlerow">
    <span class="pbtpointsspent">Point Buy Totals</span>
    <span class="pbtpoints">Total</span>
    <span class="pbtUnspent">Unspent</span>
    <span class="pbtSpent">Spent</span>
    <span class="pbtNegative">Negative</span>
    <span class="pbtnotes">Notes</span>
  </div>
  <div class="pointbuytablerow">
    <span class="pbtAttributes">Attributes</span>
    <input type="text" name="attr_pbattributestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbattributesspent" value="">
    <input type="text" name="attr_pbattributesunspent" value="">
    <input type="text" name="attr_pbattributesnegative" value="">
    <input type="text" name="attr_pbattributesnotes" value="">
  </div>
  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Combat Skills</span> <!-- COMBAT SKILLS -->
    <input type="text" name="attr_pbcombatskillstotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbCombatSkillsSpent" value="">
    <input type="text" name="attr_pbCombatSkillsNegative" value="">
    <input type="text" name="attr_pbSkillTableNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Adventuring Skills</span>
    <input type="text" name="attr_pbadventuringskillstotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbNonCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbNonCombatSkillsSpent" value="">
    <input type="text" name="attr_pbNonCombatSkillsNegative" value="">
    <input type="text" name="attr_pbNonCombatSkillsNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Equipment</span>
    <input type="text" name="attr_pbequipmenttotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbEquipmentUnspent" value="">
    <input type="text" name="attr_pbEquipmentSpent" value="">
    <input type="text" name="attr_pbEquipmentNegative" value="">
    <input type="text" name="attr_pbEquipmentNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtPowersandAbilities">Magic Skills</span> <!-- Magic Skills -->
    <input type="text" name="attr_pbpowersandabilitiestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbMagicSkillsTotal" value="">
    <input type="text" name="attr_pbMagicSkillsUnspent" value="">
    <input type="text" name="attr_pbMagicSkillsSpent" value="">
    <input type="text" name="attr_pbMagicSkillsNegative" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Spells Learned</span>
    <input type="text" name="attr_pbspellslearnedtotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbSpellsLearnedUnspent" value="">
    <input type="text" name="attr_pbSpellsLearnedSpent" value="">
    <input type="text" name="attr_pbSpellsLearnedNegative" value="">
    <input type="text" name="attr_pbSpellsLearnedNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Adv./Disadvantages</span>
    <input type="text" name="attr_pbadvdisadvantagestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbAdvDisadvantagesUnspent" value="">
    <input type="text" name="attr_pbAdvDisadvantagesSpent" value="">
    <input type="text" name="attr_pbAdvDisadvantagesNegative" value="">
    <input type="text" name="attr_pbAdvDisadvantagesNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtOther">Other</span>
    <input type="text" name="attr_pbothertotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbOtherUnspent" value="">
    <input type="text" name="attr_pbOtherSpent" value="">
    <input type="text" name="attr_pbOtherNegative" value="">
    <input type="text" name="attr_pbOtherNotes" value="">
  </div>

  <div class="pointbuytabletotalrow">
    <span class="pbtTotal">TOTAL Character Points</span>
    <input type="text" name="attr_pbtotaloverall" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbTotalUnspent" value="">
    <input type="text" name="attr_pbTotalSpent" value="">
    <input type="text" name="attr_pbTotalNegative" value="">
    <input type="text" name="attr_pbTotalNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Combatant Base Value</span>
    <input type="text" name="attr_pbcombatbasevalue" value="30"> <!-- TOTALS -->
    <input type="text" name="attr_pbcombatbasevalueUnspent" value="">
    <input type="text" name="attr_pbcombatbasevalueSpent" value="">
    <input type="text" name="attr_pbcombatbasevalueNegative" value="">
    <input type="text" name="attr_pbcombatbasevalueNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">-1/2 Non-Combat Skills</span>
    <input type="text" name="attr_pbhalfnoncombatskillstotal" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbHalfNonCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsSpent" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsNegative" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Misc. Modifiers</span>
    <input type="text" name="attr_pbmiscmodtotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbMiscModUnspent" value="">
    <input type="text" name="attr_pbMiscModSpent" value="">
    <input type="text" name="attr_pbMiscModNegative" value="">
    <input type="text" name="attr_pbMiscModNotes" value="">
  </div>

  <div class="pointbuytabletotalrow">
    <span class="pbtTotal">Combat Encounter Value</span>
    <input type="text" name="attr_pbcombatencountervaluetotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbCombatEncounterValueUnspent" value="">
    <input type="text" name="attr_pbCombatEncounterValueSpent" value="">
    <input type="text" name="attr_pbCombatEncounterValueNegative" value="">
    <input type="text" name="attr_pbCombatEncounterValueNotes" value="">
  </div>

</div>



<!-- SPELL BUILDER -->

<div class="spellbuilder">
  <div class="sbtitlerow">
    <span class="sbnameandlevel">Spell Name & LVL:</span>
    <input type="text" name="attr_spellbuildername1" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl1" placeholder="LVL" value="">
    <input type="text" name="attr_spellbuildername2" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl2" placeholder="LVL" value="">
    <input type="text" name="attr_spellbuildername3" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl3" placeholder="LVL" value="">
    <input type="text" name="attr_spellbuildername4" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl4" placeholder="LVL" value="">
  </div>



  <div class="sbrowcorespell">
    <span class="sbcorespell">Core Spell</span>
    <input type="text" name="attr_sbcorespell1" value="">
    <input type="text" name="attr_sbcorelvl1" value="">
    <input type="text" name="attr_sbcorespell2" value="">
    <input type="text" name="attr_sbcorelvl2" value="">
    <input type="text" name="attr_sbcorespell3" value="">
    <input type="text" name="attr_sbcorelvl3" value="">
    <input type="text" name="attr_sbcorespell4" value="">
    <input type="text" name="attr_sbcorelvl4" value="">
  </div>

  <div class="sbrowdamage">
    <span class="sbdamage">Damage</span>
    <input type="text" name="attr_sbdamagespell1" value="">
    <input type="text" name="attr_sbdamagelvl1" value="">
    <input type="text" name="attr_sbdamagespell2" value="">
    <input type="text" name="attr_sbdamagelvl2" value="">
    <input type="text" name="attr_sbdamagespell3" value="">
    <input type="text" name="attr_sbdamagelvl3" value="">
    <input type="text" name="attr_sbdamagespell4" value="">
    <input type="text" name="attr_sbdamagelvl4" value="">
  </div>

  <div class="sbrowspelltype">
    <span class="sbspelltype">Spell Type</span>
    <input type="text" name="attr_sbspelltypespell1" value="">
    <input type="text" name="attr_sbspelltypelvl1" value="">
    <input type="text" name="attr_sbspelltypespell2" value="">
    <input type="text" name="attr_sbspelltypelvl2" value="">
    <input type="text" name="attr_sbspelltypespell3" value="">
    <input type="text" name="attr_sbspelltypelvl3" value="">
    <input type="text" name="attr_sbspelltypespell4" value="">
    <input type="text" name="attr_sbspelltypelvl4" value="">
  </div>

  <div class="sbrowarea">
    <span class="sbarea">Area</span>
    <input type="text" name="attr_sbareaspell1" value="">
    <input type="text" name="attr_sbarealvl1" value="">
    <input type="text" name="attr_sbareaspell2" value="">
    <input type="text" name="attr_sbarealvl2" value="">
    <input type="text" name="attr_sbareaspell3" value="">
    <input type="text" name="attr_sbarealvl3" value="">
    <input type="text" name="attr_sbareaspell4" value="">
    <input type="text" name="attr_sbarealvl4" value="">
  </div>

  <div class="sbrowduration">
    <span class="sbduration">Duration</span>
    <input type="text" name="attr_sbduration1" value="">
    <input type="text" name="attr_sbdurationlvl1" value="">
    <input type="text" name="attr_sbduration2" value="">
    <input type="text" name="attr_sbdurationlvl2" value="">
    <input type="text" name="attr_sbduration3" value="">
    <input type="text" name="attr_sbdurationlvl3" value="">
    <input type="text" name="attr_sbduration4" value="">
    <input type="text" name="attr_sbdurationlvl4" value="">
  </div>

  <div class="sbrowrange">
    <span class="sbrange">Range</span>
    <input type="text" name="attr_sbrange1" value="">
    <input type="text" name="attr_sbrangelvl1" value="">
    <input type="text" name="attr_sbrange2" value="">
    <input type="text" name="attr_sbrangelvl2" value="">
    <input type="text" name="attr_sbrange3" value="">
    <input type="text" name="attr_sbrangelvl3" value="">
    <input type="text" name="attr_sbrange4" value="">
    <input type="text" name="attr_sbrangelvl4" value="">
  </div>

  <div class="sbrowmodifiers">
    <span class="sbmodifiers">Modifiers</span>
    <input type="text" name="attr_sbmodifiers1" value="">
    <input type="text" name="attr_sbmodifierslvl1" value="">
    <input type="text" name="attr_sbmodifiers2" value="">
    <input type="text" name="attr_sbmodifierslvl2" value="">
    <input type="text" name="attr_sbmodifiers3" value="">
    <input type="text" name="attr_sbmodifierslvl3" value="">
    <input type="text" name="attr_sbmodifiers4" value="">
    <input type="text" name="attr_sbmodifierslvl4" value="">
  </div>

    <fieldset class="repeating_spellbuildermodifiers">
        <div class="sbmodifiersfill">
          <input type="text" name="attr_sbmodifierleft" value="">
          <input type="text" name="attr_sbmodifiertext1" value="">
          <input type="text" name="attr_sbmodifier1" value="">
          <input type="text" name="attr_sbmodifiertext2" value="">
          <input type="text" name="attr_sbmodifier2" value="">
          <input type="text" name="attr_sbmodifiertext3" value="">
          <input type="text" name="attr_sbmodifier3" value="">
          <input type="text" name="attr_sbmodifiertext4" value="">
          <input type="text" name="attr_sbmodifier4" value="">
        </div>
    </fieldset>


</div> <!-- close spell builder table??? -->




</div> <!-- close section? -->



<!-- INVENTORY -->

<div class="inventorytable">
    <div class="inventorytabletoprow">
         <span class="inventorytableinventoryword">Inventory</span>
         <span class="inventorytableweightword">Weight</span>
         <span class="inventorytablebulkword">Bulk</span>
         <span class="inventorytablemobilityword">Mobility</span>
         <span title="Action Points Modifier" class="inventorytableapmodword">AP Mod</span>
         <span class="inventoryequippedword">Equipped</span>
    </div>
    <fieldset class="repeating_inventorytableitemrepeats">
    <div class="inventorytablerepeatinginputsrow">
    <input type="text" name="attr_inventorytableitem" value="">
    <input type="text" name="attr_inventorytableweight" value="">
    <input type="text" name="attr_inventorytablebulk" value="">
    <input type="text" name="attr_inventorytablemobiliy" value="">
    <input type="text" name="attr_inventorytableapmod" value="">
    <input type="checkbox" name="inventoryequippedcheck" value="inventoryequipped">
        </div>
        </fieldset>
    <div class="inventorytotalsrow">
        <span class="inventorytabletotalsword">Totals</span>
        <input type="text" name="attr_inventorytableweighttotal" value="">
        <input type="text" name="attr_inventorytablebulktotal" value="">
        <input type="text" name="attr_inventorytablemobilitytotal" value="">
        <input type="text" name="attr_inventorytableapmodtotal" value="">
        <input type="text" name="attr_inventorytableequippedtotal" value="">
    </div>
</div>


<!-- story first? -->
<div class="storychunk">
    <span class="storyHeader">Personality</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Appearance</span>
  <span class="storyDescriptorHeader">Demeanor</span>
  <span class="storyDescriptorHeader">Personality</span>
  <span class="storyDescriptorHeader">Quirks & Flaws</span>
    </div>
    <div class="personalityrow">
      <textarea type="text" name="attr_appearance" value=""></textarea>
    <textarea type="text" name="attr_demeanor" value=""></textarea>
    <textarea type="text" name="attr_personality" value=""></textarea>
    <textarea type="text" name="attr_quirksandflaws" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
  <span class="storyHeader">Motivations and Drive</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Motivation</span>
  <span class="storyDescriptorHeader">Connections & Tie-ins</span>
  <span class="storyDescriptorHeader">Reason to Adventure</span>
  <span class="storyDescriptorHeader">Ideals & Values</span>
    <textarea type="text" name="attr_motivation" value=""></textarea>
    <textarea type="text" name="attr_connections" value=""></textarea>
    <textarea type="text" name="attr_reasontoadventure" value=""></textarea>
    <textarea type="text" name="attr_ideals" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Training & Skills</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Background Profession</span>
  <span title="School? Mentor? Self-Taught?" class="storyDescriptorHeader">Learned From?</span>
  <span class="storyDescriptorHeader">Social Status</span>
  <span class="storyDescriptorHeader">Deeds or Achievements</span>
   <textarea type="text" name="attr_backgroundprofession" value=""></textarea>
   <textarea type="text" name="attr_trainingsource" value=""></textarea>
   <textarea type="text" name="attr_socialstatus" value=""></textarea>
   <textarea type="text" name="attr_deeds" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Horror (Optional)</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Phobias</span>
  <span class="storyDescriptorHeader">Injuries and Scars</span>
  <span class="storyDescriptorHeader">Strange Encounters</span>
  <span class="storyDescriptorHeader">Treasured Possession</span>
  <textarea type="text" name="attr_Phobias" value=""></textarea>
  <textarea type="text" name="attr_injuriesandscars" value=""></textarea>
  <textarea type="text" name="attr_strangeencounters" value=""></textarea>
  <textarea type="text" name="attr_treasuredpossession" value=""></textarea>
  </div>
  </div>




</div> <!-- close everything? -->









<!--TABS SHENANIGANS -->






<!-- COMBAT TAB, was line ~1113 -->
<div class="wepnstab">

<!-- WEAPON TABLE COMBAT TAB -->

<div class="weapontable">
  <div class="wptrow1">
    <span class="swordimage">
    <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/exportSwordPNG.png?raw=true" style="position:relative; left:0px; top: -3px; height: 21px; width: 105px;">
    </span>

    <!--
    <span class="wptrangedc">Range DC</span>
    <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
    <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
    -->
    <span title="Action Points" class="wpttoprowAP">AP</span>
    <span title="Combat Points" class="cptoprow">CP</span>
    <span class="wpttoprowcut">Swing / Shoot</span>
    <span class="wpttoprowthrust">Thrust / Throw</span>
    <span class="wpttoprowparryorblock">Parry / Block</span>

    <!-- insert reach stuff -->
    <span class="Reach">Reach</span>


    <span class="equipped_hand">Equipped Hand</span>
    <!-- <span class="placeholder_reach2"></span> -->


    <span class="wpttoprowdodge">Dodge</span>
    <span class="d4d6dodgereminder">d4d6</span>
    <span><input type="text" name="attr_dodgemodifier" placeholder="0"> </span>
    <span class="dodgerollbutton">
        <button class="sheet-d6-dice" type="roll" value=
              '&{template:dodas1} {{name=@{character_name} @{weapon} }}{{Dodge=[[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]]}} '
              name="roll_Dodge"></button>
    </span>
  </div>

  <div class="wptrow2">
    <span class="wtweapon">Melee Weapons</span>

    <span title="Action Points Modifier" class="wtMod">Mod</span>
    <span title="Combat Points (Attack and Defense)" class="wtTotal">Total</span>
    <span title="Damage" class="wtA">Dmg</span>
    <span title="number added to attack roll button" class="wtA">Att+</span>
    <span class="wtD">Roll</span>
    <span title="Damage" class="wtA">Dmg</span>
    <span title="number added to attack roll button" class="wtA">Att+</span>
    <span class="wtD">Roll</span>
    <span title="Advantage or not?"class="wtAdvBlock">Adv.?</span>
    <span title="Number added to defense roll button"class="wtSkrmD">Def+</span>
    <span class="wtD">Roll</span>

    <span class="wtReachCategory">Category</span>
    <span title="relative reach level" class="wtReachLevel">Lvl</span>
    <span title="spaces away the weapon can attack" class="wtReachSpaces">Spaces</span>

    <span title="left hand equipped" class="wtRange">Left</span> <!-- moved reach elsewhere -->
    <span title="Right hand equipped" class="wtHand">Right</span>

    <span class="wtOther">Other</span>
  </div>

  <fieldset class="repeating_weapons">
    <div class="wptfillrepeating">
      <input type="text" name="attr_weapon" value="">

      <input type="text" name="attr_weaponactionpointmodifier" value="">
      <input type="text" name="attr_cptotal" value="">
      <input type="text" name="attr_cutdamage" value="">
      <input type="text" name="attr_cutattack" value="">
      <span class="swingweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Swing Attack}} {{attackdatadodas1=[[2d6 + @{cutattack}]] or [[2d6 + @{cutattack}]] or [[2d6 + @{cutattack}]], at +@{cutattack}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{cutattack}]] '
name="roll_weaponrepeatingbuttonswing"></button>
    <button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{cutdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
    <button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

    <button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
    <button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
    <button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
              </span>


      <input type="text" name="attr_thrustdamage" value="">
      <input type="text" name="attr_thrustattack" value="">


      <span class="thrustweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Thrust Attack}} {{attackdatadodas1=[[2d6 + @{thrustattack}]] or [[2d6 + @{thrustattack}]] or [[2d6 + @{thrustattack}]], at +@{thrustattack}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{thrustattack}]] '
name="roll_weaponrepeatingbuttonthrust"></button>
<button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{thrustdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
<button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

<button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
<button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
<button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
</span>

      <input type="text" name="attr_parryblock" value="">
      <input type="text" name="attr_blockdefendplus" value="">
      <span class="rolldefendbutton">
<button class="sheet-d6-dice" type="roll" value='&{template:dodasdefense} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Defense Roll}} {{attackdatadodas1=[[2d6 + @{blockdefendplus}]] or [[2d6 + @{blockdefendplus}]] or [[2d6 + @{blockdefendplus}]], at +@{blockdefendplus}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Parry or Block:}} {{mosbuttonsdata=@{parryblock}}}  {{Notes=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{parryblock}]] '
              name="roll_weaponrepeatingbuttondefend"></button>
             </span>

    <input type="text" name="attr_range" value=""> <!-- should be attr_reachcategory -->
    <input type="text" name="attr_reachlevel" value="">
    <input type="text" name="attr_reachspaces" value="">

    <input type="text" name="attr_lefthand" value=""> <!-- changing to equipped hand left right with checkbox original name="attr_range" name="attr_hand"  -->
      <input type="text" name="attr_hand" value="">

      <!-- CHECKBOXES WON'T WORK, TROUBLESHOOT LATER
      <input type="checkbox" name="attr_lefthandbox" value="">
      <input type="checkbox" name="attr_righthandbox" value=""> -->

    <input type="text" name="attr_other" value="">


    </div>
  </fieldset>
</div>


<!-- RANGED WEAPONS -->

<div class="rangedweapontable">
  <div class="rwptrow1">
    <span class="arrowimage">
    <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/arrowPNGcolored.png?raw=true" style="justify-self: center; left:0px; top: -15px; height: 13px; width: 75%;">
    </span>

    <!--
    <span class="wptrangedc">Range DC</span>
    <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
    <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
    -->
    <span class="rwpttoprowAP">AP</span>
    <span title="Combat Points" class="rwptcptoprow">CP</span>
    <span class="rwpttoprowshoot">Shoot / Throw</span>
    <span class="rwpttoprowrange">Range</span>

    <span class="rwptblank"></span>

    <span class="rwptreload">Reload</span>
    <span class="rwptequipped">Equipped Hand</span>
    </div>

  <div class="rwptrow2">
    <span class="rwtweapon">Ranged Weapons</span>

    <span title="modifier" class="rwtMod">Mod</span>
    <span title="Combat Points" class="rwtTotal">Total</span>
    <span title="Damage" class="rwtA">Dmg</span>
    <span title="number added to Attack roll button" class="rwtA">Att+</span>
    <span class="rwtroll">Roll</span>
    <span class="rwtincrement">Increment</span>

    <span title="ignore this much range penalty" class="rwtAccuracy">Accuracy</span>
    <span title="ignores armor all or nothing" class="rwtPenetration">Penetration</span>
    <span title="shots before reloading" class="rwtSkrmD">Shots</span>
    <span title="time to reload" class="rwttime">Time</span>
    <span class="rwtleftequipped">Left</span>
    <span class="rwtrightequipped">Right</span>
    <span class="rwtOther">Other</span>
  </div>

  <fieldset class="repeating_weapons">
    <div class="rwptfillrepeating">
      <input type="text" name="attr_rangedweapon" value="">
      <input type="text" name="attr_rangedapmod" value="">
      <input type="text" name="attr_rangedCPTotal" value="">
      <input type="text" name="attr_rangeddmg" value="">
      <input type="text" name="attr_rangedattackplus" value="">

     <span class="rangedweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{character_name} @{rangedweapon} }} {{attack=[[2d6 + @{rangedattackplus}]] [[2d6 + @{rangedattackplus}]][[2d6 + @{rangedattackplus}]]}} {{Base Damage= @{rangeddmg}}} {{Extra Dmg Dice= [1](~repeating_weapons_1d6extradamageswing) [2](~repeating_weapons_2d6extradamageswing) [3](~repeating_weapons_3d6extradamageswing) [4](~repeating_weapons_4d6extradamageswing) [5](~repeating_weapons_5d6extradamageswing) }} {{Notes=@{rangedother}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - @{rangedattackplus}]] '
name="roll_Ranged-Attack"></button>
    <button type="roll" name="roll_1d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 1d6}} {{Damage=[[1d6]] + @{cutdamage}}}"></button>
    <button type="roll" name="roll_2d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 2d6}} {{Damage=[[2d6]] + @{cutdamage}}} "></button>
    <button type="roll" name="roll_3d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 3d6}} {{Damage=[[3d6]] + @{cutdamage}}}"></button>
    <button type="roll" name="roll_4d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 4d6}} {{Damage=[[4d6]] + @{cutdamage}}}"></button>
    <button type="roll" name="roll_5d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 5d6}} {{Damage=[[5d6]] + @{cutdamage}}}"></button>
    <button type="roll" name="roll_6d6extradamageswing" class="hidden" value="&{template:dodas1} {{name=@{character_name} Extra 6d6}} {{Damage=[[6d6]] + @{cutdamage}}}"></button>
              </span>

      <input type="text" name="attr_rangedincrement" value="">
      <input type="text" name="attr_rangedaccuracy" value="">
      <input type="text" name="attr_rangedpenetration" value="">
      <input type="text" name="attr_rangedshots" value="">
      <input type="text" name="attr_reloadtime" value="">

      <input type="text" name="attr_rangedequippedleft" value="">
      <input type="text" name="attr_rangedequippedright" value="">
      <input type="text" name="attr_rangedother" value="">



    </div>
  </fieldset>
</div>



<!-- ARMOR TABLE -->

<div class="armortable">
<div class="armortbtoprow">
  <span class="atTopWeapon"></span>
  <span title="Armor Value of equipment" class="atTopAvEquip">AV Equip</span>
  <span class="atTopBD"></span>
  <span title="Damage Reduction Total" class="atDRTotal">DR Total</span>

</div>
<div class="armorsecondrow">
  <span class="atArmor">Armor</span>
  <span title="Cutting damage" class="atC">c</span>
  <span title="Piercing damage" class="atP">p</span>
  <span title="Blunt damage" class="atB">b</span>
  <span title="Energy or Magic damage" class="atE">e</span>
  <span title="Body attribute" class="atBD">BD</span>
  <span title="Cutting damage reduction" class="attc">c</span>
  <span title="Piercing damage reduciton" class="attp">p</span>
  <span title="Blunt damage reduction" class="attb">b</span>
  <span title="Energy or Magic damage reduction" class="atte">e</span>

  <span title="Action Point Modifier" class="atAPM">AP Mod</span>
  <span title="Modifier to Stealth" class="atStealth">Stealth</span>
  <span title="Modifier to Mobility" class="atStealth">Mobility</span>
  <span class="atLocation">Location / Other</span>
</div>



<fieldset class="repeating_armor">
  <div class="armor-fillinrepeating">
    <input type="text" name="attr_armor" value="">
    <input type="text" name="attr_armorvalue" value="">
    <input type="text" name="attr_atP" value="">
    <input type="text" name="attr_atB" value="">
    <input type="text" name="attr_atE" value="">
    <input type="text" name="attr_armortablebody">
    <input type="text" name="attr_damagereduction" value="">
    <input type="text" name="attr_attP" value="">
    <input type="text" name="attr_attB" value="">
    <input type="text" name="attr_attE" value="">
    <input type="text" name="attr_actionpointmodifier" value="">
    <input type="text" name="attr_stealtharmormodifier" value="">
    <input type="text" name="attr_mobilityarmormodifier" value="">
    <input type="text" name="attr_location" value="">


  </div>
</fieldset>
</div>


<!-- Ranged Defense table -->
<div class="rangedefensetable">

<div class="rangedefensetabletoprow">
 <span class="rangedefensesimage"><img class="SIZEImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true" width="23" height="23"></span>
<span class="rangedefenseblank"></span>
 <span class="rangedefense9-SZ">(9-SZ)</span>
 <span class="rangedefense9-SZ">(12-SZ)</span>

</div>

<div class="rangedefensetablesecondrow">
 <span class="rangeddefenseword">Ranged Defense</span>
 <span title="Modifier" class="rangedefensemodifier">Mod</span>
 <span title="Defense if standing still" class="rangedefensestill">Still</span>
      <span title="Defense if moving or in Melee" class="rangedefensemoving">Moving</span>

</div>

<div class="rangedefensetableinputrow">
    <span class="rangedefenseunarmedword">Size Modifier</span>
<input type="number" name="attr_rangeddefensemodifier" placeholder="0">
<input type="number" name="attr_rangeddefenseninenumber" placeholder="9">
    <input type="number" name="attr_rangeddefensetwelvenumber" placeholder="12">

   </div>

   <div class="rangedefensetableinputrow">
         <span class="rangeddefenseshieldword">Shield</span>
     <input type="number" name="attr_rangeddefenseshieldmodifier" placeholder="0">
     <input type="number" name="attr_rangeddefenseshieldninenumber" placeholder="9">
         <input type="number" name="attr_rangeddefenseshieldtwelvenumber" placeholder="12">

      </div>
</div>


<!-- Spells -->
<div class="spelltable">
<div class="strow">
<span class="stspells">Spells & Abilities</span>
<span title="Damage or Amount of Spell Effect" class="stDmg">Dmg</span>

<span class="stOpp">Type</span>
<span class="stArea">Area</span>
<span class="stDuration">Duration</span>
<span class="stRange">Range</span>
<span title="Spell Level" class="stLVL">LVL</span>
<span title="number added to spell roll" class="stRoll">Roll+</span>
<span title="Combat Point cost to cast" class="stCP">CP</span>
<span class="stRollbutton">Roll</span>
<span class="stDescription">Description</span>
</div>
<fieldset class="repeating_spells">
<div class="strepeating">
<input type="text" name="attr_spellorability" value="">
<input type="text" name="attr_spelldamage" value="">

<input type="text" name="attr_spellopposed" value="">
<input type="text" name="attr_spellarea" value="">
<input type="text" name="attr_spellduration" value="">
<input type="text" name="attr_spellrange" value="">

<input type="text" name="attr_spelllevel" value="">
<input type="text" name="attr_spellskill" value="">
<input type="text" name="attr_strcp" value="">
<span class="spellrollbutton">
<button class="sheet-d6-dice" type="roll" value=
        '&{template:dodas1} {{name=@{character_name} @{spellorability} }} {{attack=[[2d6 + @{spellskill}]][[2d6 + @{spellskill}]][[2d6 + @{spellskill}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Type=@{spellopposed}}} {{Area=@{spellarea}}} {{Duration=@{spellduration}}} {{Range=@{spellrange}}} {{LVL=@{spelllevel}}} {{Description=@{spelldescription}}} '
        name="roll_spellreapeatingbutton"></button></span>
<input type="text" name="attr_spelldescription" value="">


<!--
<span><button type="roll"
  value='&{template:dodas1} {{name=@{charcter_name} @{spellorability} }} {{attack=[[2d6 + @{strroll}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Opposed=@{stropp}}} {{Spell Range=@{strrange}}} {{Spell Area=@{strarea}}} {{Spell Duration=@{strduration}}} {{Spell LVL=@{strlvl}}} {{Spell Description=@{strdescription}}} '
  name="roll_spellreapeatingbutton"></button></span>
  -->
</div>
</fieldset>
</div>

      </div>
</div>


<!-- END OF COMBAT TAB -->


<!-- SKILLS TAB -->

<!-- SKILLS & ABILITIES TABLE Skills Tab -->

<div class="skillsandpoints">

<div class="dodaslayout">

  <div class="skilltable">
  <div class="skilltablerow">

    <span class="str1Skillsand">Skills &</span>
    <span class="str1empty"></span>
    <span class="str1empty"></span>
    <span class="str1empty"></span>
    <span class="str1empty"></span>
    <span class="str1TiersbyCost">Tiers by Cost</span>
    <span class="str1Synergy">Synergy</span>
    <span class="str1Above">Above</span>
    <span class="str1Sub">Sub</span>
    <span class="str1RelevantAttributes">Relevant Attributes</span>
    <span class="str1OtherModifiersTop">Other</span>
  </div>
  <div class="skilltablerow2">

    <span class="str2Abilities">Abilities</span>
    <span class="str2Total">Total</span>
    <span class="str2Roll">Roll</span>
    <span class="str2Tier">Tier</span>
    <span class="str2Cost">Cost</span>
    <span class="str27">5</span>
    <span class="str24">4</span>
    <span class="str22">3</span>
    <span class="str21">2</span>
    <span class="str2star">1</span>
    <span class="str2Bonus">Bonus</span>
    <span class="str2Offset">Offset</span>
    <span class="str2AboveSub">Sub</span>
    <span class="str2Sub">Total</span>
    <span class="str2ATR1">ATR</span>
    <span class="str2Mod1">Mod</span>
    <span class="str2ATR2">ATR</span>
    <span class="str2Mod2">Mod</span>
    <span class="OtherModifiersBottom">Modifiers</span>

  </div>

  <fieldset class="repeating_skills">
    <div class="skillsfillrepeating">

      <input type="text" name="attr_skillsandabilities" value="">
      <input type="text" name="attr_skilltotal" value="">
      <span class="skillrollbutton">
        <button class="sheet-d6-dice" type="roll" value=
        '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
        name="roll_skilltotalcolumn"></button> </span>
        <input type="text" name="attr_tiercost" value="">
      <input type="text" name="attr_cost" value="">
      <input type="text" name="attr_tierseven" value="">
      <input type="text" name="attr_tierfour" value="">
      <input type="text" name="attr_tiertwo" value="">
      <input type="text" name="attr_tierone" value="">
      <input type="text" name="attr_tierstar" value="">
      <input type="text" name="attr_tierabovesub" value="">
      <input type="text" name="attr_synergybonus" value="">
      <input type="text" name="attr_synergyoffset" value="">
      <input type="text" name="attr_group" value="">
      <input type="text" name="attr_attribute" value="">
      <input type="text" name="attr_attributemodifier" value="">
      <input type="text" name="attr_attributetwo" value="">
      <input type="text" name="attr_attributemodifiertwo" value="">
      <input type="text" name="attr_othermodifiersfill" value="">
      </div>
  </fieldset>


</div>


<!-- POINT BUY SPENT TABLE -->

<div class="pointbuytable">
  <div class="pointbuytabletitlerow">
    <span class="pbtpointsspent">Point Buy Totals</span>
    <span class="pbtpoints">Total</span>
    <span class="pbtUnspent">Unspent</span>
    <span class="pbtSpent">Spent</span>
    <span class="pbtNegative">Negative</span>
    <span class="pbtnotes">Notes</span>
  </div>
  <div class="pointbuytablerow">
    <span class="pbtAttributes">Attributes</span>
    <input type="text" name="attr_pbAttributesNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbattributesspent" value="">
    <input type="text" name="attr_pbattributesunspent" value="">
    <input type="text" name="attr_pbattributesnegative" value="">
    <input type="text" name="attr_pbattributesnotes" value="">
  </div>
  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Combat Skills</span> <!-- COMBAT SKILLS -->
    <input type="text" name="attr_pbSkillTableNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbCombatSkillsSpent" value="">
    <input type="text" name="attr_pbCombatSkillsNegative" value="">
    <input type="text" name="attr_pbSkillTableNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Non-Combat Skills</span>
    <input type="text" name="attr_pbNonCombatSkillsTotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbNonCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbNonCombatSkillsSpent" value="">
    <input type="text" name="attr_pbNonCombatSkillsNegative" value="">
    <input type="text" name="attr_pbNonCombatSkillsNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Equipment</span>
    <input type="text" name="attr_pbequipmenttotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbEquipmentUnspent" value="">
    <input type="text" name="attr_pbEquipmentSpent" value="">
    <input type="text" name="attr_pbEquipmentNegative" value="">
    <input type="text" name="attr_pbEquipmentNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtPowersandAbilities">Magic Skills</span> <!-- Magic Skills -->
    <input type="text" name="attr_pbPowersandAbilitiesNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbMagicSkillsTotal" value="">
    <input type="text" name="attr_pbMagicSkillsUnspent" value="">
    <input type="text" name="attr_pbMagicSkillsSpent" value="">
    <input type="text" name="attr_pbMagicSkillsNegative" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Spells Learned</span>
    <input type="text" name="attr_pbspellslearnedtotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbSpellsLearnedUnspent" value="">
    <input type="text" name="attr_pbSpellsLearnedSpent" value="">
    <input type="text" name="attr_pbSpellsLearnedNegative" value="">
    <input type="text" name="attr_pbSpellsLearnedNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Adv./Disadvantages</span>
    <input type="text" name="attr_pbadvdisadvantagestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbAdvDisadvantagesUnspent" value="">
    <input type="text" name="attr_pbAdvDisadvantagesSpent" value="">
    <input type="text" name="attr_pbAdvDisadvantagesNegative" value="">
    <input type="text" name="attr_pbAdvDisadvantagesNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtOther">Other</span>
    <input type="text" name="attr_pbOtherNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbOtherUnspent" value="">
    <input type="text" name="attr_pbOtherSpent" value="">
    <input type="text" name="attr_pbOtherNegative" value="">
    <input type="text" name="attr_pbOtherNotes" value="">
  </div>

  <div class="pointbuytabletotalrow">
    <span class="pbtTotal">TOTAL Character Points</span>
    <input type="text" name="attr_pbTotalNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbTotalUnspent" value="">
    <input type="text" name="attr_pbTotalSpent" value="">
    <input type="text" name="attr_pbTotalNegative" value="">
    <input type="text" name="attr_pbTotalNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Combatant Base Value</span>
    <input type="text" name="attr_pbcombatbasevalue" value="30"> <!-- TOTALS -->
    <input type="text" name="attr_pbcombatbasevalueUnspent" value="">
    <input type="text" name="attr_pbcombatbasevalueSpent" value="">
    <input type="text" name="attr_pbcombatbasevalueNegative" value="">
    <input type="text" name="attr_pbcombatbasevalueNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">-1/2 Non-Combat Skills</span>
    <input type="text" name="attr_pbHalfNonCombatSkillsNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbHalfNonCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsSpent" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsNegative" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Misc. Modifiers</span>
    <input type="text" name="attr_pbMiscModNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbMiscModUnspent" value="">
    <input type="text" name="attr_pbMiscModSpent" value="">
    <input type="text" name="attr_pbMiscModNegative" value="">
    <input type="text" name="attr_pbMiscModNotes" value="">
  </div>

  <div class="pointbuytabletotalrow">
    <span class="pbtTotal">Combat Encounter Value</span>
    <input type="text" name="attr_pbCombatEncounterValueNumber" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbCombatEncounterValueUnspent" value="">
    <input type="text" name="attr_pbCombatEncounterValueSpent" value="">
    <input type="text" name="attr_pbCombatEncounterValueNegative" value="">
    <input type="text" name="attr_pbCombatEncounterValueNotes" value="">
  </div>

</div>




</div>
</div>



<!-- SPELL TABLE -->

<div class="spells">
<div class="dodaslayout">

  <div class="spelltable">
    <div class="strow">
      <span class="stspells">Spells & Abilities</span>
      <span class="stDmg">Dmg</span>

      <span class="stOpp">Type</span>
      <span class="stArea">Area</span>
      <span class="stDuration">Duration</span>
      <span class="stRange">Range</span>
      <span class="stLVL">LVL</span>
      <span class="stRoll">Roll+</span>
      <span class="stCP">CP</span>
      <span class="stRollbutton">Roll</span>
      <span class="stDescription">Description</span>
    </div>
    <fieldset class="repeating_spells">
      <div class="strepeating">
        <input type="text" name="attr_spellorability" value="">
        <input type="text" name="attr_spelldamage" value="">

        <input type="text" name="attr_spellopposed" value="">
        <input type="text" name="attr_spellarea" value="">
        <input type="text" name="attr_spellduration" value="">
        <input type="text" name="attr_spellrange" value="">

        <input type="text" name="attr_spelllevel" value="">
        <input type="text" name="attr_spellskill" value="">
        <input type="text" name="attr_strcp" value="">
        <span class="spellrollbutton">
          <button type="roll" value=
                  '&{template:dodas1} {{name=@{character_name} @{spellorability} }} {{attack=[[2d6 + @{spellskill}]][[2d6 + @{spellskill}]][[2d6 + @{spellskill}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Type=@{spellopposed}}} {{Area=@{spellarea}}} {{Duration=@{spellduration}}} {{Range=@{spellrange}}} {{LVL=@{spelllevel}}} {{Description=@{spelldescription}}} '
                  name="roll_spellreapeatingbutton"></button></span>
        <input type="text" name="attr_spelldescription" value="">


        <!--
        <span><button type="roll"
            value='&{template:dodas1} {{name=@{charcter_name} @{spellorability} }} {{attack=[[2d6 + @{strroll}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Opposed=@{stropp}}} {{Spell Range=@{strrange}}} {{Spell Area=@{strarea}}} {{Spell Duration=@{strduration}}} {{Spell LVL=@{strlvl}}} {{Spell Description=@{strdescription}}} '
            name="roll_spellreapeatingbutton"></button></span>
            -->
      </div>
    </fieldset>
  </div>

  <div class="spellbuilder">
    <div class="sbtitlerow">
      <span class="sbnameandlevel">Spell Name & LVL:</span>
      <input type="text" name="attr_spellbuildername1" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl1" placeholder="LVL" value="">
      <input type="text" name="attr_spellbuildername2" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl2" placeholder="LVL" value="">
      <input type="text" name="attr_spellbuildername3" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl3" placeholder="LVL" value="">
      <input type="text" name="attr_spellbuildername4" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl4" placeholder="LVL" value="">
    </div>



    <div class="sbrowcorespell">
      <span class="sbcorespell">Core Spell</span>
      <input type="text" name="attr_sbcorespell1" value="">
      <input type="text" name="attr_sbcorelvl1" value="">
      <input type="text" name="attr_sbcorespell2" value="">
      <input type="text" name="attr_sbcorelvl2" value="">
      <input type="text" name="attr_sbcorespell3" value="">
      <input type="text" name="attr_sbcorelvl3" value="">
      <input type="text" name="attr_sbcorespell4" value="">
      <input type="text" name="attr_sbcorelvl4" value="">
    </div>

    <div class="sbrowdamage">
      <span class="sbdamage">Damage</span>
      <input type="text" name="attr_sbdamagespell1" value="">
      <input type="text" name="attr_sbdamagelvl1" value="">
      <input type="text" name="attr_sbdamagespell2" value="">
      <input type="text" name="attr_sbdamagelvl2" value="">
      <input type="text" name="attr_sbdamagespell3" value="">
      <input type="text" name="attr_sbdamagelvl3" value="">
      <input type="text" name="attr_sbdamagespell4" value="">
      <input type="text" name="attr_sbdamagelvl4" value="">
    </div>

    <div class="sbrowspelltype">
      <span class="sbspelltype">Spell Type</span>
      <input type="text" name="attr_sbspelltypespell1" value="">
      <input type="text" name="attr_sbspelltypelvl1" value="">
      <input type="text" name="attr_sbspelltypespell2" value="">
      <input type="text" name="attr_sbspelltypelvl2" value="">
      <input type="text" name="attr_sbspelltypespell3" value="">
      <input type="text" name="attr_sbspelltypelvl3" value="">
      <input type="text" name="attr_sbspelltypespell4" value="">
      <input type="text" name="attr_sbspelltypelvl4" value="">
    </div>

    <div class="sbrowarea">
      <span class="sbarea">Area</span>
      <input type="text" name="attr_sbareaspell1" value="">
      <input type="text" name="attr_sbarealvl1" value="">
      <input type="text" name="attr_sbareaspell2" value="">
      <input type="text" name="attr_sbarealvl2" value="">
      <input type="text" name="attr_sbareaspell3" value="">
      <input type="text" name="attr_sbarealvl3" value="">
      <input type="text" name="attr_sbareaspell4" value="">
      <input type="text" name="attr_sbarealvl4" value="">
    </div>

    <div class="sbrowduration">
      <span class="sbduration">Duration</span>
      <input type="text" name="attr_sbduration1" value="">
      <input type="text" name="attr_sbdurationlvl1" value="">
      <input type="text" name="attr_sbduration2" value="">
      <input type="text" name="attr_sbdurationlvl2" value="">
      <input type="text" name="attr_sbduration3" value="">
      <input type="text" name="attr_sbdurationlvl3" value="">
      <input type="text" name="attr_sbduration4" value="">
      <input type="text" name="attr_sbdurationlvl4" value="">
    </div>

    <div class="sbrowrange">
      <span class="sbrange">Range</span>
      <input type="text" name="attr_sbrange1" value="">
      <input type="text" name="attr_sbrangelvl1" value="">
      <input type="text" name="attr_sbrange2" value="">
      <input type="text" name="attr_sbrangelvl2" value="">
      <input type="text" name="attr_sbrange3" value="">
      <input type="text" name="attr_sbrangelvl3" value="">
      <input type="text" name="attr_sbrange4" value="">
      <input type="text" name="attr_sbrangelvl4" value="">
    </div>

    <div class="sbrowmodifiers">
      <span class="sbmodifiers">Modifiers</span>
      <input type="text" name="attr_sbmodifiers1" value="">
      <input type="text" name="attr_sbmodifierslvl1" value="">
      <input type="text" name="attr_sbmodifiers2" value="">
      <input type="text" name="attr_sbmodifierslvl2" value="">
      <input type="text" name="attr_sbmodifiers3" value="">
      <input type="text" name="attr_sbmodifierslvl3" value="">
      <input type="text" name="attr_sbmodifiers4" value="">
      <input type="text" name="attr_sbmodifierslvl4" value="">
    </div>

      <fieldset class="repeating_spellbuildermodifiers">
          <div class="sbmodifiersfill">
            <input type="text" name="attr_sbmodifierleft" value="">
            <input type="text" name="attr_sbmodifiertext1" value="">
            <input type="text" name="attr_sbmodifier1" value="">
            <input type="text" name="attr_sbmodifiertext2" value="">
            <input type="text" name="attr_sbmodifier2" value="">
            <input type="text" name="attr_sbmodifiertext3" value="">
            <input type="text" name="attr_sbmodifier3" value="">
            <input type="text" name="attr_sbmodifiertext4" value="">
            <input type="text" name="attr_sbmodifier4" value="">
          </div>
      </fieldset>
  </div> <!-- close table? -->

</div> <!-- close dodaslayout tab, below close spells tab? -->
</div>

<!-- STORY FILL IN SECTION TAB -->

<div class="story">
<div class="dodaslayout">

  <div class="storychunk">
    <span class="storyHeader">Personality</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Appearance</span>
  <span class="storyDescriptorHeader">Demeanor</span>
  <span class="storyDescriptorHeader">Personality</span>
  <span class="storyDescriptorHeader">Quirks & Flaws</span>
    </div>
    <div class="personalityrow">
      <textarea type="text" name="attr_appearance" value=""></textarea>
    <textarea type="text" name="attr_demeanor" value=""></textarea>
    <textarea type="text" name="attr_personality" value=""></textarea>
    <textarea type="text" name="attr_quirksandflaws" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
  <span class="storyHeader">Motivations and Drive</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Motivation</span>
  <span class="storyDescriptorHeader">Connections & Tie-ins</span>
  <span class="storyDescriptorHeader">Reason to Adventure</span>
  <span class="storyDescriptorHeader">Ideals & Values</span>
    <textarea type="text" name="attr_motivation" value=""></textarea>
    <textarea type="text" name="attr_connections" value=""></textarea>
    <textarea type="text" name="attr_reasontoadventure" value=""></textarea>
    <textarea type="text" name="attr_ideals" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Training & Skills</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Background Profession</span>
  <span class="storyDescriptorHeader">Learned From?</span>
  <span class="storyDescriptorHeader">Social Status</span>
  <span class="storyDescriptorHeader">Deeds or Achievements</span>
   <textarea type="text" name="attr_backgroundprofession" value=""></textarea>
   <textarea type="text" name="attr_trainingsource" value=""></textarea>
   <textarea type="text" name="attr_socialstatus" value=""></textarea>
   <textarea type="text" name="attr_deeds" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Horror (Optional)</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Phobias</span>
  <span class="storyDescriptorHeader">Injuries and Scars</span>
  <span class="storyDescriptorHeader">Strange Encounters</span>
  <span class="storyDescriptorHeader">Treasured Possession</span>
  <textarea type="text" name="attr_Phobias" value=""></textarea>
  <textarea type="text" name="attr_injuriesandscars" value=""></textarea>
  <textarea type="text" name="attr_strangeencounters" value=""></textarea>
  <textarea type="text" name="attr_treasuredpossession" value=""></textarea>
  </div>
  </div>

</div> <!-- close dodaslayour -->
</div> <!-- end STORY section -->

<!--
</div>   everything????? -->





<!--custom roll template -->
			<rolltemplate class="sheet-rolltemplate-dodas">
			<table>
			    <caption>{{name}}</caption>
			    {{#allprops() }}
			       <tr><td>{{key}}</td><td>{{value}}</td>
			    {{/allprops() }}
			</table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-dodas1">
  <div class="container">
  <div class="fakeheader">
      <span class="titleweapon">{{name}}</span>
      <span class="subheader">{{subtags}}</span>
      </div>
  <div class="tableevenrow">
      <span class="attackdodas1">{{diceADroll}}</span>
      <span class="attackresultsdodas1">{{attackdatadodas1}}</span>
  </div>
  <div class="tableoddrow">
      <span class="reachdodas1">Weapon Reach</span>
      <span class="reachresultsdodas1">{{reachdatadodas1}}</span>
  </div>
  <div class="tableevenrow">
      <span class="mosdodas1">{{mosorparryblock}}</span>
      <span class="mosbuttonsdodas1">{{mosbuttonsdata}}</span>
  </div>
  <div class="tableoddrow">
      <span class="notesdodas1">Notes</span>
      <span class="notesresultsdodas1">{{notesdatadodas1}}</span>
  </div>
  </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-dodasdefense">
  <div class="container">
  <div class="fakeheader">
      <span class="titleweapon">{{name}}</span>
      <span class="subheader">{{subtags}}</span>
      </div>
  <div class="tableevenrow">
      <span class="attackdodas1">{{diceADroll}}</span>
      <span class="attackresultsdodas1">{{attackdatadodas1}}</span>
  </div>
  <div class="tableoddrow">
      <span class="reachdodas1">Weapon Reach</span>
      <span class="reachresultsdodas1">{{reachdatadodas1}}</span>
  </div>
  <div class="tableevenrow">
      <span class="mosdodas1">{{mosorparryblock}}</span>
      <span class="mosbuttonsdodas1">{{mosbuttonsdata}}</span>
  </div>
  <div class="tableoddrow">
      <span class="notesdodas1">Notes</span>
      <span class="notesresultsdodas1">{{notesdatadodas1}}</span>
  </div>
  </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-dodasmosdmg">
<div class="container">
<div class="fakeheader">
    <span class="titleweapon">{{name}}</span>
    <span class="subheader">{{subtags}}</span>
    </div>
<div class="tableevenrow">
    <span class="damagedodasdmg">Damage =</span>
    <span class="damageresultsdodasdmg">{{damageMoStotalsdodasdmg}}</span>
</div>
<div class="tableoddrow">
    <span class="mosamountspan">{{MoSAmount}}</span>
    <span class="MoSexplainerspan">{{MoSExplainer}}</span>
    </div>
<div class="tabledicerow">
    <span class="headshotdodasdmg">Headshot?{{headshotdmgbutton}}</span>
    <span class="criticaldodasdmg">Critical?{{criticialhitdmgbutton}}</span>
    <span class="rerolldiedodasdmg">Reroll?{{rerolldiedmgbutton}}</span>
</div>

</div>


</div>
</rolltemplate>

<!-- extra damage headshot, crit, or reroll -->
<rolltemplate class="sheet-rolltemplate-dodasdmgextra">
<div class="container">
<div class="tableevenrow">
    <span class="damageresultsMoSdodasdmg">{{extradmgdodasdmg}}</span>
    <span class="damageMoSdodasdmg">Extra Damage</span>
</div>

</div>
</rolltemplate>




<!-- sheetworkers -->

<script type="text/worker">

//GiG repeating sections thing
  /* ===== PARAMETERS ==========
  destinations = the name of the attribute that stores the total quantity
          can be a single attribute, or an array: ['total_cost', 'total_weight']
          If more than one, the matching fields must be in the same order. 
      section = name of repeating fieldset, without the repeating_
      fields = the name of the attribute field to be summed
            destination and fields both can be a single attribute: 'weight'
            or an array of attributes: ['weight','number','equipped']
  */
  const repeatingSum = (destinations, section, fields) => {
      if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
      if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
      getSectionIDs(`repeating_${section}`, idArray => {
          const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
          getAttrs([...attrArray], v => {
              const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
              const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
              const output = {};
              destinations.forEach((destination, index) => {
                  output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
              });
              setAttrs(output);
          }); 
      }); 
  };

//TAB BUTTONS
       const buttonlist = ["allsection","wepnstab","skillsandpoints","spells","story"];
       buttonlist.forEach(button => {
           on(`clicked:${button}`, function() {
               setAttrs({
                   sheetTab: button
               });
           });

       });


    on("change:agility change:wit sheet:opened", function () {
        getAttrs([
            "agility", "wit"
        ], function (values) {
            // Reflex
            let ag = +values.agility || 0;
            let wt = +values.wit || 0;
            let total = ag + wt;
            setAttrs({reflex: total});
        });
    });

    on("change:agility change:wit sheet:opened", function () {
        getAttrs([
            "agility", "wit"
        ], function (values) {
            // Action Points
            let ag = +values.agility || 0;
            let wt = +values.wit || 0;
            let total = 4 + ag + wt;
            setAttrs({actionpoints: total});
        });
    });

    on("change:strength change:agility sheet:opened", function () {
        getAttrs([
            "strength", "agility"
        ], function (values) {
            // Knockdown
            let st = +values.strength || 0;
            let ag = +values.agility || 0;
            let total = st + ag;
            setAttrs({knockdown: total});
        });
    });

    on("change:toughness change:willpower sheet:opened", function () {
        getAttrs([
            "toughness", "willpower"
        ], function (values) {
            // Knockout
            let tg = +values.toughness || 0;
            let wp = +values.willpower || 0;
            let total = tg + wp;
            setAttrs({knockout: total});
        });
    });

    on("change:strength change:size sheet:opened", function () {
        getAttrs([
            "strength", "size"
        ], function (values) {
            // Power
            let st = +values.strength || 0;
            let sz = +values.size || 0;
            let total = st + sz;
            setAttrs({power: total});
        });
    });


    on("change:toughness change:size sheet:opened", function () {
        getAttrs([
            "toughness", "size"
        ], function (values) {
            // Body
            let tg = +values.toughness || 0;
            let sz = +values.size || 0;
            let total = tg + sz;
            setAttrs({body: total});
        });
    });
/*
    on("change:body sheet:opened", function () {
        getAttrs(["body"], function (values) {
            // Passive Perception
            let bd = +values.body || 0;
            let total = 0 + bd;
            setAttrs({repeating_armor_armortablebody: total});
        });
      });

*/
    on("change:agility change:size sheet:opened", function () {
        getAttrs([
            "agility", "size"
        ], function (values) {
            // Move
            let ag = +values.agility || 0;
            let sz = +values.size || 0;
            let total = 5 + ag + sz;
            setAttrs({movement: total});
        });
    });

    on("change:size sheet:opened", function () {
        getAttrs(["size"], function (values) {
            // Ranged DC Still
            let sz = +values.size || 0;
            let total = 9 - sz;
            setAttrs({rangedcstill: total});
        });
    });

    on("change:size sheet:opened", function () {
        getAttrs(["size"], function (values) {
            // Ranged DC Moving
            let sz = +values.size || 0;
            let total = 12 - sz;
            setAttrs({rangedcmoving: total});
        });
    });

    on("change:perception sheet:opened", function () {
        getAttrs(["perception"], function (values) {
            // Passive Perception
            let pr = +values.perception || 0;
            let total = 7 + pr + pr;
            setAttrs({passiveperception: total});
        });
      });

// Damage Reduction TOTALS AUTO CALCULATE
    //DR Cutting total
      on("change:repeating_armor:armortablebody change:repeating_armor:armorvalue sheet:opened", function () {
          getAttrs(["repeating_armor_armorvalue",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_armorvalue || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_damagereduction: total});
          });
    });

    //DR Piercing total
          on("change:repeating_armor:armortablebody change:repeating_armor:atP sheet:opened", function () {
          getAttrs(["repeating_armor_atP",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atP || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attP: total});
          });
    });

    //DR Blunt total
          on("change:repeating_armor:armortablebody change:repeating_armor:atB sheet:opened", function () {
          getAttrs(["repeating_armor_atB",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atB || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attB: total});
          });
    });





    //DR Energy total
          on("change:repeating_armor:armortablebody change:repeating_armor:atE sheet:opened", function () {
          getAttrs(["repeating_armor_atE",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atE || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attE: total});
          });
    });

    //ARMOR TABLE stuff
     on("change:repeating_armor:armortablebody change:repeating_armor:atE sheet:opened", function () {
          getAttrs(["repeating_armor_atE",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atE || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attE: total});
          });
    });



    //Auto calculate resolve table
       //get resolve and toughness number
   on("change:willpower sheet:opened", function () {
        getAttrs([
            "willpower"
        ], function (values) {
            // Knockout
            let wp = +values.willpower || 0;
            let total = wp;
            setAttrs({resolvewillpowernumber: total});
        });
    });

    on("change:toughness sheet:opened", function () {
        getAttrs([
            "toughness"
        ], function (values) {
            // Knockout
            let th = +values.toughness || 0;
            let total = th;
            setAttrs({fatiguetoughnessnumber: total});
        });
    });

        //set TOTAL WP
    on("change:resolvewillpowernumber change:resolvestartnumber sheet:opened", function () {
        getAttrs([
            "resolvewillpowernumber", "resolvestartnumber"
        ], function (values) {
            // Knockout
            let wptotal = +values.resolvewillpowernumber || 0;
            let wpfree = +values.resolvestartnumber || 0;
            let total = wptotal + wpfree;
            setAttrs({resolvemaxnumber: total});
        });
    });

        //set fatigue TOTAL
    on("change:fatiguetoughnessnumber change:fatiguestartnumber sheet:opened", function () {
        getAttrs([
            "fatiguetoughnessnumber", "fatiguestartnumber"
        ], function (values) {
            // Knockout
            let thatr = +values.fatiguetoughnessnumber || 0;
            let ftfree = +values.fatiguestartnumber || 0;
            let total = thatr + ftfree;
            setAttrs({fatiguemaxnumber: total});
        });
    });

    //Auto calculate initiative table
        //get REFLEX value
    on("change:reflex sheet:opened", function () {
        getAttrs([
            "reflex"
        ], function (values) {
            let rf = +values.reflex || 0;
            let total = rf;
            setAttrs({initiativereflexnumber: total});
        });
    });

    on("change:initiativereflexnumber change:initiativeskillnumber sheet:opened", function () {
        getAttrs([
            "initiativereflexnumber", "initiativeskillnumber"
        ], function (values) {
            let rfimport = +values.initiativereflexnumber || 0;
            let initskill = +values.initiativeskillnumber || 0;
            let total = rfimport + initskill;
            setAttrs({initiativetotalnumber: total});
        });
    });

//Auto calculate passive table
    //get WIT values
    on("change:wit sheet:opened", function () {
        getAttrs([
            "wit"
        ], function (values) {
            let wt = +values.wit || 0;
            let total = wt;
            setAttrs({passiveperceptionwitnumber: total}); //how to do multiple at once?
        });
    });

    on("change:passiveperceptionwitnumber sheet:opened", function () {
        getAttrs([
            "passiveperceptionwitnumber"
        ], function (values) {
            let wt = +values.passiveperceptionwitnumber || 0;
            let total = wt;
            setAttrs({enemydetectionnwitnumber: total}); //how to do multiple at once?
        });
    });

    on("change:enemydetectionnwitnumber sheet:opened", function () {
        getAttrs([
            "enemydetectionnwitnumber"
        ], function (values) {
            let wt = +values.enemydetectionnwitnumber || 0;
            let total = wt;
            setAttrs({passiveinsightnwitnumber: total}); //how to do multiple at once?
        });
    });

    //add up row to total PASSIVE TABLE
    on("change:passiveperceptionwitnumber change:passiveperceptionskillnumber change:passiveperceptionbasenumber sheet:opened", function () {
        getAttrs([
            "passiveperceptionwitnumber", "passiveperceptionskillnumber", "passiveperceptionbasenumber"
        ], function (values) {
            let witvalue = +values.initiativereflexnumber || 0;
            let skillvalue = +values.initiativeskillnumber || 0;
            let basevalue = +values.passiveperceptionbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({passiveperceptiontotalnumber: total});
        });
    });

    on("change:passiveperceptionwitnumber change:passiveperceptionskillnumber change:passiveperceptionbasenumber sheet:opened", function () {
        getAttrs([
            "passiveperceptionwitnumber", "passiveperceptionskillnumber", "passiveperceptionbasenumber"
        ], function (values) {
            let witvalue = +values.passiveperceptionwitnumber || 0;
            let skillvalue = +values.passiveperceptionskillnumber || 0;
            let basevalue = +values.passiveperceptionbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({passiveperceptiontotalnumber: total});
        });
    });

    on("change:enemydetectionwitnumber change:enemydetectionskillnumber change:enemydetectionbasenumber sheet:opened", function () {
        getAttrs([
            "enemydetectionwitnumber", "enemydetectionskillnumber", "enemydetectionbasenumber"
        ], function (values) {
            let witvalue = +values.enemydetectionwitnumber || 0;
            let skillvalue = +values.enemydetectionskillnumber || 0;
            let basevalue = +values.enemydetectionbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({enemydetectiontotalnumber: total});
        });
    });

    on("change:passiveinsightwitnumber change:passiveinsightskillnumber change:passiveinsightbasenumber sheet:opened", function () {
        getAttrs([
            "passiveinsightwitnumber", "passiveinsightskillnumber", "passiveinsightbasenumber"
        ], function (values) {
            let witvalue = +values.passiveinsightwitnumber || 0;
            let skillvalue = +values.passiveinsightskillnumber || 0;
            let basevalue = +values.passiveinsightbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({passiveinsighttotalnumber: total});
        });
    });


    //Auto calculate skill point totals, NOT WORKING, REMOVED


//AUTO CALCULATE RANGED DEFENSE, need to figure out negatives
    //get SIZE for first row
    on("change:size sheet:opened", function () {
        getAttrs([
            "size"
        ], function (values) {
            let sz = +values.size || 0;
            let total = sz;
            setAttrs({rangeddefensemodifier: total});
        });
    });

    //set size unarmed totals 9 aand 12 + modifier
    on("change:rangeddefensemodifier sheet:opened", function () {
        getAttrs([
            "rangeddefensemodifier"
        ], function (values) {
            let sizemod = +values.rangeddefensemodifier || 0;
            let total = 9 - sizemod;
            setAttrs({rangeddefenseninenumber: total});
        });
    });

    on("change:rangeddefensemodifier sheet:opened", function () {
        getAttrs([
            "rangeddefensemodifier"
        ], function (values) {
            let sizemod = +values.rangeddefensemodifier || 0;
            let total = 12 - sizemod;
            setAttrs({rangeddefensetwelvenumber: total});
        });
    });

    //set shield totals value, including 9&12-SZ from above
        //9+shield
    on("change:rangeddefenseninenumber change:rangeddefenseshieldmodifier sheet:opened", function () {
        getAttrs([
            "rangeddefenseninenumber", "rangeddefenseshieldmodifier"
        ], function (values) {
            let shieldmod = +values.rangeddefenseshieldmodifier || 0;
            let aboveninenumber = +values.rangeddefenseninenumber || 0;
            let total = aboveninenumber + shieldmod;
            setAttrs({rangeddefenseshieldninenumber: total});
        });
    });

    on("change:rangeddefensetwelvenumber change:rangeddefenseshieldmodifier sheet:opened", function () {
        getAttrs([
            "rangeddefensetwelvenumber", "rangeddefenseshieldmodifier"
        ], function (values) {
            let shieldmod = +values.rangeddefenseshieldmodifier || 0;
            let abovetwelvenumber = +values.rangeddefensetwelvenumber || 0;
            let total = abovetwelvenumber + shieldmod;
            setAttrs({rangeddefenseshieldtwelvenumber: total});
        });
    });


    // auto calculate skill table finished first draft. one variable at a time?
   on("change:repeating_skills:tierseven change:repeating_skills:tierfour change:repeating_skills:tiertwo change:repeating_skills:tierone change:repeating_skills:tierstar change:repeating_skills:tierabovesub change:repeating_skills:synergybonus change:repeating_skills:synergyoffset change:repeating_skills:attributemodifier change:repeating_skills:attributemodifiertwo sheet:opened", function () {
       getAttrs(["repeating_skills_tierseven", "repeating_skills_tierfour", "repeating_skills_tiertwo", "repeating_skills_tierone", "repeating_skills_tierstar", "repeating_skills_tierabovesub", "repeating_skills_synergybonus", "repeating_skills_synergyoffset","repeating_skills_attributemodifier", "repeating_skills_attributemodifiertwo",
       ], function (values) {
           // DR calculations
           let columntierseven = +values.repeating_skills_tierseven || 0;
           let columntierfour = +values.repeating_skills_tierfour || 0;
           let columntiertwo = +values.repeating_skills_tiertwo || 0;
           let columntierone = +values.repeating_skills_tierone || 0;
           let columntierstar = +values.repeating_skills_tierstar || 0;
           let columntierabovesub = +values.repeating_skills_tierabovesub || 0;
           let columnsynergybonus = +values.repeating_skills_synergybonus || 0;
           let columnsynergyoffset = +values.repeating_skills_synergyoffset || 0;
           let columnattributemodifier = +values.repeating_skills_attributemodifier || 0;
           let columnattributemodifiertwo = +values.repeating_skills_attributemodifiertwo || 0;
           let total = columntierseven + columntierfour + columntiertwo + columntierone + columntierstar + columntierabovesub + columnsynergybonus + columnsynergyoffset + columnattributemodifier + columnattributemodifiertwo;
           setAttrs({repeating_skills_skilltotal: total});
       });
 });


 //ALL Combat AP get
   on("change:actionpoints sheet:opened", function () {
        getAttrs([
            "actionpoints"
        ], function (values) {
            let ap = +values.actionpoints || 0;
            let total = ap;
            setAttrs({allcombatattributemodifier: total});
        });
    });

    //melee combat AP
    on("change:actionpoints sheet:opened", function () {
         getAttrs([
             "actionpoints"
         ], function (values) {
             let ap = +values.actionpoints || 0;
             let total = ap;
             setAttrs({meleecombatattributemodifier: total});
         });
     });

     //ranged combat AP
     on("change:actionpoints sheet:opened", function () {
          getAttrs([
              "actionpoints"
          ], function (values) {
              let ap = +values.actionpoints || 0;
              let total = ap;
              setAttrs({rangedcombatattributemodifier: total});
          });
      });

      //Adventuring skills attribute get

    //knowledge
  on("change:intelligence sheet:opened", function () {
       getAttrs([
           "intelligence"
       ], function (values) {
           let int = +values.intelligence || 0;
           let total = int;
           setAttrs({knowledgeattributemodifier: total});
       });
   });


    //mobility
   on("change:knockdown sheet:opened", function () {
       getAttrs([
           "knockdown"
       ], function (values) {
           let knd = +values.knockdown || 0;
           let total = knd;
           setAttrs({mobilityattributemodifier: total});
       });
   });

   //Mechanical Devices
   on("change:reflex sheet:opened", function () {
      getAttrs([
          "reflex"
      ], function (values) {
          let ref = +values.reflex || 0;
          let total = ref;
          setAttrs({mechanicaldevicesattributemodifier: total});
      });
   });

    //removed mechanical devices int
    on("change:intelligence sheet:opened", function () {
         getAttrs([
             "intelligence"
         ], function (values) {
             let int = +values.intelligence || 0;
             let total = int;
             setAttrs({mechanicaldevicesattributemodifiertwo: total});
         });
     });

   //Medicine
   on("change:reflex sheet:opened", function () {
      getAttrs([
          "reflex"
      ], function (values) {
          let ref = +values.reflex || 0;
          let total = ref;
          setAttrs({medicineattributemodifiertwo: total});
      });
   });
        //medicine INT
   on("change:intelligence sheet:opened", function () {
        getAttrs([
            "intelligence"
        ], function (values) {
            let int = +values.intelligence || 0;
            let total = int;
            setAttrs({medicineattributemodifier: total});
        });
    });

    //Perception
    on("change:wit sheet:opened", function () {
       getAttrs([
           "wit"
       ], function (values) {
           let wt = +values.wit || 0;
           let total = wt;
           setAttrs({perceptionattributemodifier: total});
       });
    });

  //Social
  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({socialattributemodifier: total});
     });
  });

  on("change:willpower sheet:opened", function () {
     getAttrs([
         "willpower"
     ], function (values) {
         let wp = +values.willpower || 0;
         let total = wp;
         setAttrs({socialattributemodifiertwo: total});
     });
  });

  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({socialwitattributemodifier: total});
     });
  });

  on("change:willpower sheet:opened", function () {
     getAttrs([
         "willpower"
     ], function (values) {
         let wp = +values.willpower || 0;
         let total = wp;
         setAttrs({socialpersonalityattributemodifier: total});
     });
  });

  //Strength skills
  on("change:power sheet:opened", function () {
     getAttrs([
         "power"
     ], function (values) {
         let pw = +values.power || 0;
         let total = pw;
         setAttrs({strengthskillsattributemodifier: total});
     });
  });

  //Survival
  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({survivalattributemodifier: total});
     });
  });

  on("change:intelligence sheet:opened", function () {
     getAttrs([
         "intelligence"
     ], function (values) {
         let int = +values.intelligence || 0;
         let total = int;
         setAttrs({survivalattributemodifiertwo: total});
     });
  });

  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({survivaloutdoorsattributemodifier: total});
     });
  });

  on("change:intelligence sheet:opened", function () {
     getAttrs([
         "intelligence"
     ], function (values) {
         let int = +values.intelligence || 0;
         let total = int;
         setAttrs({survivaloutdoorsattributemodifiertwo: total});
     });
  });

  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({survivalurbanattributemodifier: total});
     });
  });

  on("change:intelligence sheet:opened", function () {
     getAttrs([
         "intelligence"
     ], function (values) {
         let int = +values.intelligence || 0;
         let total = int;
         setAttrs({survivalurbanattributemodifiertwo: total});
     });
  });

  //auto-calculate POINTS column x tiers by cost Number


    //all combat skill total
      on("change:allcombattierfive sheet:opened", function () {
         getAttrs(["allcombattierfive",
         ], function (values) {
             let columntierfive = +values.allcombattierfive || 0;
             let total = columntierfive * 5;
             setAttrs({allcombatpoints: total});
         });
      });

      //all combat specz tier 4
    on("change:repeating_allcombatspec:tierfour sheet:opened", function (event) {
      const [,section,rowID] = event.triggerName.match(/(repeating_.+?)_(.+?)_/);
      const row = `${section}_${rowID}`;
      getAttrs([`${row}_tierfour`], function (values) {
        let columntierfour = +values[`${row}_tierfour`] || 0;
        let total = columntierfour * 4;
        setAttrs({ [`${row}_points`]: total});
      });
    });



      //all combat specz tier 3
        on("change:repeating_allcombatspec:tierthree sheet:opened", function () {
           getAttrs(["repeating_allcombatspec_tierthree",
           ], function (values) {
               let columntierthree = +values.repeating_allcombatspec_tierthree || 0;
               let total = columntierthree * 3;
               setAttrs({repeating_allcombatspec_points: total});
           });
        });

        ///all combat specz tier 2
          on("change:repeating_allcombatspec:tiertwo sheet:opened", function () {
             getAttrs(["repeating_allcombatspec_tiertwo",
             ], function (values) {
                 let columntiertwo = +values.repeating_allcombatspec_tiertwo || 0;
                 let total = columntiertwo * 2;
                 setAttrs({repeating_allcombatspec_points: total});
             });
          });

          //all combat specz tier 1
          on("change:repeating_allcombatspec:tierone sheet:opened", function () {
             getAttrs(["repeating_allcombatspec_tierone",
             ], function (values) {
                 let columntierone = +values.repeating_allcombatspec_tierone || 0;
                 let total = columntierone * 1;
                 setAttrs({repeating_allcombatspec_points: total});
             });
          });

  //melee combat skill total
    on("change:meleecombattierfour sheet:opened", function () {
       getAttrs(["meleecombattierfour",
       ], function (values) {
           let columntierfour = +values.meleecombattierfour || 0;
           let total = columntierfour * 4;
           setAttrs({meleecombatpoints: total});
       });
    });

    //melee  combat specz tier 4
      on("change:repeating_meleespec:tierfour sheet:opened", function () {
         getAttrs(["repeating_meleespec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_meleespec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_meleespec_points: total});
         });
      });

    //melee  combat specz tier 3
      on("change:repeating_meleespec:tierthree sheet:opened", function () {
         getAttrs(["repeating_meleespec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_meleespec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_meleespec_points: total});
         });
      });

      ///melee  combat specz tier 2
        on("change:repeating_meleespec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_meleespec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_meleespec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_meleespec_points: total});
           });
        });

        //melee  combat specz tier 1
        on("change:repeating_meleespec:tierone sheet:opened", function () {
           getAttrs(["repeating_meleespec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_meleespec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_meleespec_points: total});
           });
        });

      //ranged combat skill total
        on("change:rangedcombattierfour sheet:opened", function () {
           getAttrs(["rangedcombattierfour",
           ], function (values) {
               let columntierfour = +values.rangedcombattierfour || 0;
               let total = columntierfour * 4;
               setAttrs({rangedcombatpoints: total});
           });
        });

        //ranged  combat specz tier 4
          on("change:repeating_rangedspec:tierfour sheet:opened", function () {
             getAttrs(["repeating_rangedspec_tierfour",
             ], function (values) {
                 let columntierfour = +values.repeating_rangedspec_tierfour || 0;
                 let total = columntierfour * 4;
                 setAttrs({repeating_rangedspec_points: total});
             });
          });

        //ranged  combat specz tier 3
          on("change:repeating_rangedspec:tierthree sheet:opened", function () {
             getAttrs(["repeating_rangedspec_tierthree",
             ], function (values) {
                 let columntierthree = +values.repeating_rangedspec_tierthree || 0;
                 let total = columntierthree * 3;
                 setAttrs({repeating_rangedspec_points: total});
             });
          });

          ///ranged  combat specz tier 2
            on("change:repeating_rangedspec:tiertwo sheet:opened", function () {
               getAttrs(["repeating_rangedspec_tiertwo",
               ], function (values) {
                   let columntiertwo = +values.repeating_rangedspec_tiertwo || 0;
                   let total = columntiertwo * 2;
                   setAttrs({repeating_rangedspec_points: total});
               });
            });

            //ranged  combat specz tier 1
            on("change:repeating_rangedspec:tierone sheet:opened", function () {
               getAttrs(["repeating_rangedspec_tierone",
               ], function (values) {
                   let columntierone = +values.repeating_rangedspec_tierone || 0;
                   let total = columntierone;
                   setAttrs({repeating_rangedspec_points: total});
               });
            });

//ADVENTURING SKILLS
  //knowledge skill total
    on("change:knowledgetierfour sheet:opened", function () {
       getAttrs(["knowledgetierfour",
       ], function (values) {
           let columntierfour = +values.knowledgetierfour || 0;
           let total = columntierfour * 4;
           setAttrs({knowledgepoints: total});
       });
    });

    //knowledge  specz tier 4
      on("change:repeating_knowledgespec:tierfour sheet:opened", function () {
         getAttrs(["repeating_knowledgespec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_knowledgespec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_knowledgespec_points: total});
         });
      });

    //knowledge specz tier 3
      on("change:repeating_knowledgespec:tierthree sheet:opened", function () {
         getAttrs(["repeating_knowledgespec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_knowledgespec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_knowledgespec_points: total});
         });
      });

      ///knowledge specz tier 2
        on("change:repeating_knowledgespec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_knowledgespec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_knowledgespec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_knowledgespec_points: total});
           });
        });

        //knowledge  specz tier 1
        on("change:repeating_knowledgespec:tierone sheet:opened", function () {
           getAttrs(["repeating_knowledgespec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_knowledgespec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_knowledgespec_points: total});
           });
        });

  //mobility skill total
  on("change:mobilitytierfour sheet:opened", function () {
     getAttrs(["mobilitytierfour",
     ], function (values) {
         let columntierfour = +values.mobilitytierfour || 0;
         let total = columntierfour * 4;
         setAttrs({mobilitypoints: total});
     });
  });

  //mobility specz tier 4
    on("change:repeating_mobilityspec:tierfour sheet:opened", function () {
       getAttrs(["repeating_mobilityspec_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_mobilityspec_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_mobilityspec_points: total});
       });
    });

  //mobility  combat specz tier 3
    on("change:repeating_mobilityspec:tierthree sheet:opened", function () {
       getAttrs(["repeating_mobilityspec_tierthree",
       ], function (values) {
           let columntierthree = +values.repeating_mobilityspec_tierthree || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_mobilityspec_points: total});
       });
    });

    ///mobility  combat specz tier 2
      on("change:repeating_mobilityspec:tiertwo sheet:opened", function () {
         getAttrs(["repeating_mobilityspec_tiertwo",
         ], function (values) {
             let columntiertwo = +values.repeating_mobilityspec_tiertwo || 0;
             let total = columntiertwo * 2;
             setAttrs({repeating_mobilityspec_points: total});
         });
      });

      //mobility  combat specz tier 1
      on("change:repeating_mobilityspec:tierone sheet:opened", function () {
         getAttrs(["repeating_mobilityspec_tierone",
         ], function (values) {
             let columntierone = +values.repeating_mobilityspec_tierone || 0;
             let total = columntierone;
             setAttrs({repeating_mobilityspec_points: total});
         });
      });

  //mechanicaldevices skill total
    on("change:mechanicaldevicestierfour sheet:opened", function () {
       getAttrs(["mechanicaldevicestierfour",
       ], function (values) {
           let columntierfour = +values.mechanicaldevices_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({mechanicaldevicespoints: total});
       });
    });

    //mechanicaldevices specz tier 4
      on("change:repeating_mechanicaldevicesspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_mechanicaldevicesspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_mechanicaldevicesspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_mechanicaldevicesspecpoints: total});
         });
      });

    //mechanicaldevices specz tier 3
      on("change:repeating_mechanicaldevicesspec:spectierthree sheet:opened", function () {
         getAttrs(["repeating_mechanicaldevicesspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_mechanicaldevicesspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_mechanicaldevicesspecpoints: total});
         });
      });

      ///mechanicaldevices specz tier 2
        on("change:repeating_mechanicaldevicesspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_mechanicaldevices_spectiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_mechanicaldevicesspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_mechanicaldevicesspecpoints: total});
           });
        });

        //mechanicaldevices specz tier 1
        on("change:repeating_mechanicaldevicesspec:tierone sheet:opened", function () {
           getAttrs(["repeating_mechanicaldevicesspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_mechanicaldevicesspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_mechanicaldevicesspecpoints: total});
           });
        });

  //medicine skill total
    on("change:medicinetierfour sheet:opened", function () {
       getAttrs(["medicinetierfour",
       ], function (values) {
           let columntierfour = +values.medicinetierfour || 0;
           let total = columntierfour * 4;
           setAttrs({medicinepoints: total});
       });
    });

    //medicine specz tier 4
      on("change:repeating_medicinespec:tierfour sheet:opened", function () {
         getAttrs(["repeating_medicinespec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_medicinespec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_medicinespec_points: total});
         });
      });

    //medicine specz tier 3
      on("change:repeating_medicinespec:tierthree sheet:opened", function () {
         getAttrs(["repeating_medicinespec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_medicinespec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_medicinespec_points: total});
         });
      });

      ///medicine specz tier 2
        on("change:repeating_medicinespec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_medicinespec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_medicinespec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_medicinespec_points: total});
           });
        });

        //medicine specz tier 1
        on("change:repeating_medicinespec:tierone sheet:opened", function () {
           getAttrs(["repeating_medicinespec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_medicinespec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_medicinespec_points: total});
           });
        });

    //perception skill total
      on("change:perceptiontierfour sheet:opened", function () {
         getAttrs(["perceptiontierfour",
         ], function (values) {
             let columntierfour = +values.perceptiontierfour || 0;
             let total = columntierfour * 4;
             setAttrs({perceptionpoints: total});
         });
      });

      //perception specz tier 4
        on("change:repeating_perceptionspec:tierfour sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tierfour",
           ], function (values) {
               let columntierfour = +values.repeating_perceptionspec_tierfour || 0;
               let total = columntierfour * 4;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });

      //perception specz tier 3
        on("change:repeating_perceptionspec:tierthree sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tierthree",
           ], function (values) {
               let columntierthree = +values.repeating_perceptionspec_tierthree || 0;
               let total = columntierthree * 3;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });

        ///perception specz tier 2
          on("change:repeating_perceptionspec:tiertwo sheet:opened", function () {
             getAttrs(["repeating_perceptionspec_tiertwo",
             ], function (values) {
                 let columntiertwo = +values.repeating_perceptionspec_tiertwo || 0;
                 let total = columntiertwo * 2;
                 setAttrs({repeating_perceptionspec_points: total});
             });
          });

          //perception specz tier 1
          on("change:repeating_perceptionspec:tierone sheet:opened", function () {
             getAttrs(["repeating_perceptionspec_tierone",
             ], function (values) {
                 let columntierone = +values.repeating_perceptionspec_tierone || 0;
                 let total = columntierone;
                 setAttrs({repeating_perceptionspec_points: total});
             });
          });


  //profession
  //profession skill total
    on("change:professiontierfour sheet:opened", function () {
       getAttrs(["professiontierfour",
       ], function (values) {
           let columntierfour = +values.professiontierfour || 0;
           let total = columntierfour * 4;
           setAttrs({professionpoints: total});
       });
    });

    on("change:professiontierthree sheet:opened", function () {
       getAttrs(["professiontierthree",
       ], function (values) {
           let columntierthree = +values.professiontierthree || 0;
           let total = columntierthree * 3;
           setAttrs({professionpoints: total});
       });
    });

    on("change:professiontiertwo sheet:opened", function () {
       getAttrs(["professiontiertwo",
       ], function (values) {
           let columntiertwo = +values.professiontiertwo || 0;
           let total = columntiertwo * 4;
           setAttrs({professionpoints: total});
       });
    });

    on("change:professiontierone sheet:opened", function () {
       getAttrs(["professiontierone",
       ], function (values) {
           let columntierone = +values.professiontierone || 0;
           let total = columntierone * 4;
           setAttrs({professionpoints: total});
       });
    });

    //profession specz tier 4
      on("change:repeating_perceptionspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_perceptionspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_perceptionspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_perceptionspec_points: total});
         });
      });

    //profession specz tier 3
      on("change:repeating_perceptionspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_perceptionspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_perceptionspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_perceptionspec_points: total});
         });
      });

      ///profession specz tier 2
        on("change:repeating_perceptionspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_perceptionspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });

        //profession specz tier 1
        on("change:repeating_perceptionspec:tierone sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_perceptionspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });


  //social skills
  //social skill total
  on("change:socialtierfive sheet:opened", function () {
     getAttrs(["socialtierfive",
     ], function (values) {
         let columntierfive = +values.socialtierfive || 0;
         let total = columntierfive * 5;
         setAttrs({socialpoints: total});
     });
  });

  //social wits
  on("change:socialwittierfour sheet:opened", function () {
   getAttrs(["socialwittierfour",
   ], function (values) {
       let columntierfour = +values.socialwittierfour || 0;
       let total = columntierfour * 4;
       setAttrs({socialwitpoints: total});
   });
  });

  //socialwit specz tier 4
    on("change:repeating_socialwitspec:tierfour sheet:opened", function () {
       getAttrs(["repeating_socialwitspec_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_socialwitspec_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_socialwitspec_points: total});
       });
    });

  //socialwit specz tier 3
    on("change:repeating_socialwitspec:tierthree sheet:opened", function () {
       getAttrs(["repeating_socialwitspec_tierthree",
       ], function (values) {
           let columntierthree = +values.repeating_socialwitspec_tierthree || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_socialwitspec_points: total});
       });
    });

    ///socialwit specz tier 2
      on("change:repeating_socialwitspec:tiertwo sheet:opened", function () {
         getAttrs(["repeating_socialwitspec_tiertwo",
         ], function (values) {
             let columntiertwo = +values.repeating_socialwitspec_tiertwo || 0;
             let total = columntiertwo * 2;
             setAttrs({repeating_socialwitspec_points: total});
         });
      });

      //socialwit specz tier 1
      on("change:repeating_socialwitspec:tierone sheet:opened", function () {
         getAttrs(["repeating_socialwitspec_tierone",
         ], function (values) {
             let columntierone = +values.repeating_socialwitspec_tierone || 0;
             let total = columntierone;
             setAttrs({repeating_socialwitspec_points: total});
         });
      });



  //social personality
  on("change:socialpersonalitytierfour sheet:opened", function () {
     getAttrs(["socialpersonalitytierfour",
     ], function (values) {
         let columntierfour = +values.socialpersonalitytierfour || 0;
         let total = columntierfour * 4;
         setAttrs({socialpersonalitypoints: total});
     });
  });

    //socialpersonality specz tier 4
      on("change:repeating_socialpersonalityspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_socialpersonalityspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_socialpersonalityspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_socialpersonalityspec_points: total});
         });
      });

    //socialpersonality specz tier 3
      on("change:repeating_socialpersonalityspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_socialpersonalityspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_socialpersonalityspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_socialpersonalityspec_points: total});
         });
      });

      ///socialpersonality specz tier 2
        on("change:repeating_socialpersonalityspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_socialpersonalityspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_socialpersonalityspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_socialpersonalityspec_points: total});
           });
        });

        //socialpersonality specz tier 1
        on("change:repeating_socialpersonalityspec:tierone sheet:opened", function () {
           getAttrs(["repeating_socialpersonalityspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_socialpersonalityspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_socialpersonalityspec_points: total});
           });
        });


  //strengthskills skill total
    on("change:strengthskillstierfour sheet:opened", function () {
       getAttrs(["strengthskillstierfour",
       ], function (values) {
           let columntierfour = +values.strengthskillstierfour || 0;
           let total = columntierfour * 4;
           setAttrs({strengthskillspoints: total});
       });
    });

    //strengthskills specz tier 4
      on("change:repeating_strengthskillsspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_strengthskillsspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_strengthskillsspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_strengthskillsspec_points: total});
         });
      });

    //strengthskills specz tier 3
      on("change:repeating_strengthskillsspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_strengthskillsspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_strengthskillsspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_strengthskillsspec_points: total});
         });
      });

      ///strengthskills specz tier 2
        on("change:repeating_strengthskillsspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_strengthskillsspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_strengthskillsspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_strengthskillsspec_points: total});
           });
        });

        //strengthskills specz tier 1
        on("change:repeating_strengthskillsspec:tierone sheet:opened", function () {
           getAttrs(["repeating_strengthskillsspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_strengthskillsspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_strengthskillsspec_points: total});
           });
        });

  //survival skills
  //survival skill total
    on("change:survivaltierfive sheet:opened", function () {
       getAttrs(["survivaltierfive",
       ], function (values) {
           let columntierfive = +values.survivaltierfive || 0;
           let total = columntierfive * 5;
           setAttrs({survivalpoints: total});
       });
    });


  //survival outdoors
  on("change:survivaloutdoorstierfour sheet:opened", function () {
     getAttrs(["survivaloutdoorstierfour",
     ], function (values) {
         let columntierfour = +values.survivaloutdoorstierfour || 0;
         let total = columntierfour * 4;
         setAttrs({survivaloutdoorspoints: total});
     });
  });

    //survivaloutdoors specz tier 4
      on("change:repeating_survivaloutdoorsspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_survivaloutdoorsspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_survivaloutdoorsspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_survivaloutdoorsspec_points: total});
         });
      });

    //survivaloutdoors specz tier 3
      on("change:repeating_survivaloutdoorsspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_survivaloutdoorsspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_survivaloutdoorsspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_survivaloutdoorsspec_points: total});
         });
      });

      ///survivaloutdoors specz tier 2
        on("change:repeating_survivaloutdoorsspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_survivaloutdoorsspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_survivaloutdoorsspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_survivaloutdoorsspec_points: total});
           });
        });

        //survivaloutdoors specz tier 1
        on("change:repeating_survivaloutdoorsspec:tierone sheet:opened", function () {
           getAttrs(["repeating_survivaloutdoorsspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_survivaloutdoorsspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_survivaloutdoorsspec_points: total});
           });
        });

  //survival urban
  on("change:survivalurbantierfour sheet:opened", function () {
   getAttrs(["survivalurbantierfour",
   ], function (values) {
       let columntierfour = +values.survivalurbantierfour || 0;
       let total = columntierfour * 4;
       setAttrs({survivalurbanpoints: total});
   });
  });

  //survivalurban specz tier 4
    on("change:repeating_survivalurbanspec:tierfour sheet:opened", function () {
       getAttrs(["repeating_survivalurbanspec_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_survivalurbanspec_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_survivalurbanspec_points: total});
       });
    });

  //survivalurban specz tier 3
    on("change:repeating_survivalurbanspec:tierthree sheet:opened", function () {
       getAttrs(["repeating_survivalurbanspec_tierthree",
       ], function (values) {
           let columntierthree = +values.repeating_survivalurbanspec_tierthree || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_survivalurbanspec_points: total});
       });
    });

    ///survivalurban specz tier 2
      on("change:repeating_survivalurbanspec:tiertwo sheet:opened", function () {
         getAttrs(["repeating_survivalurbanspec_tiertwo",
         ], function (values) {
             let columntiertwo = +values.repeating_survivalurbanspec_tiertwo || 0;
             let total = columntiertwo * 2;
             setAttrs({repeating_survivalurbanspec_points: total});
         });
      });

      //survivalurban specz tier 1
      on("change:repeating_survivalurbanspec:tierone sheet:opened", function () {
         getAttrs(["repeating_survivalurbanspec_tierone",
         ], function (values) {
             let columntierone = +values.repeating_survivalurbanspec_tierone || 0;
             let total = columntierone;
             setAttrs({repeating_survivalurbanspec_points: total});
         });
      });

  //custom LEGACY skills
    on("change:repeating_skills:tierseven  sheet:opened", function () {
       getAttrs(["repeating_skills_tierseven",
       ], function (values) {
           let columntierfive = +values.repeating_skills_tierseven || 0;
           let total = columntierfive * 5;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tierfour  sheet:opened", function () {
       getAttrs(["repeating_skills_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_skills_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tiertwo  sheet:opened", function () {
       getAttrs(["repeating_skills_tiertwo",
       ], function (values) {
           let columntierthree = +values.repeating_skills_tiertwo || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tierone  sheet:opened", function () {
       getAttrs(["repeating_skills_tierone",
       ], function (values) {
           let columntiertwo = +values.repeating_skills_tierone || 0;
           let total = columntiertwo * 2;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tierstar  sheet:opened", function () {
       getAttrs(["repeating_skills_tierstar",
       ], function (values) {
           let columntierone = +values.repeating_skills_tierstar || 0;
           let total = columntierone * 1;
           setAttrs({repeating_skills_cost: total});
       });
    });

  //POINT BUY TOTALS

  //ATTRIBUTES total
  on("change:strength change:agility change:toughness change:size change:wit change:willpower change:intelligence sheet:opened", function () {
      getAttrs([
          "strength", "agility", "toughness", "size", "wit", "willpower", "intelligence",
      ], function (values) {
          let st = +values.strength || 0;
          let ag = +values.agility || 0;
          let th = +values.toughness || 0;
          let sz = +values.size || 0;
          let wt = +values.wit || 0;
          let wp = +values.willpower || 0;
          let int = +values.intelligence || 0;
          let total = (st * 6) + (ag * 6) + (th * 6) + (sz * 12) + (wt * 6) + (wp * 6) + (int * 6);
          setAttrs({pbattributestotals: total});
      });
  });

//GiG repeating methods stuff
  const sections =  ['allcombatspec','meleespec', 'rangedspec']
  sections.forEach(section => {
     on(`change:repeating_${section}:points remove:repeating_${section}`, function() {
  	repeatingSum(`${section}_total`,section,"points");
     });
  });

  on("change:allcombatpoints change:meleecombatpoints change:rangedcombatpoints change:total_rangedspec change:total_meleespec change:total_allcombatspec sheet:opened", function () {
      getAttrs([
          "allcombatpoints", "meleecombatpoints",  "rangedcombatpoints", "total_rangedspec", "total_meleespec", "total_allcombatspec",
      ], function (values) {
          let cppt = +values.allcombatpoints || 0;
          let cpszpt = +values.total_allcombatspec || 0;
          let mlpt = +values.meleecombatpoints || 0;
          let mtszpt = +values.total_meleespec || 0;
          let rgpt = +values.rangedcombatpoints || 0;
          let rgszpt = +values.total_rangedspec || 0;
          let total = cppt + cpszpt + mlpt + mtszpt + rgpt + rgszpt;
          setAttrs({pbcombatskillstotals: total});
      });
  });






    </script>
